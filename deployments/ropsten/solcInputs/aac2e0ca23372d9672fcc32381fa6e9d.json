{
  "language": "Solidity",
  "sources": {
    "src/_generated/GeneratedDotnuggV1LocalUploader.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity ^0.8.0;\n\ninterface IGeneratedDotnuggV1StorageHelper {\n    function stored(address implementer, uint8 feature) external view returns (uint8);\n}\n\nabstract contract GeneratedDotnuggV1LocalUploader {\n    address constant CONSOLE_ADDRESS = address(0x000000000000000000636F6e736F6c652e6c6f67);\n\n    function _sendLogPayload(bytes memory payload) private view {\n        uint256 payloadLength = payload.length;\n        address consoleAddress = CONSOLE_ADDRESS;\n        assembly {\n            let payloadStart := add(payload, 32)\n            let r := staticcall(gas(), consoleAddress, payloadStart, payloadLength, 0, 0)\n        }\n    }\n\n    function dotnuggV1CallbackHelper(uint256 tokenId, address processor) internal view virtual returns (uint8[] memory data) {\n        data = new uint8[](8);\n\n        data[0] = _randSeedFromTotalStoredFiles(tokenId, 0, processor);\n        data[1] = _randSeedFromTotalStoredFiles(tokenId, 1, processor);\n        data[2] = _randSeedFromTotalStoredFiles(tokenId, 2, processor);\n        data[3] = _randSeedFromTotalStoredFiles(tokenId, 3, processor);\n        data[4] = _randSeedFromTotalStoredFiles(tokenId, 4, processor);\n        data[5] = _randSeedFromTotalStoredFiles(tokenId, 5, processor);\n        data[6] = _randSeedFromTotalStoredFiles(tokenId, 6, processor);\n        data[7] = _randSeedFromTotalStoredFiles(tokenId, 7, processor);\n    }\n\n    function dotnuggV1CallbackHelper(\n        uint256 tokenId,\n        address processor,\n        uint8 extra\n    ) internal view virtual returns (uint8[] memory data) {\n        data = new uint8[](8);\n\n        require(extra > 2 && extra < 8, 'EXTRA SHOULD BE BETWEEN 3 and 7 (inclusive)');\n\n        data[0] = _randSeedFromTotalStoredFiles(tokenId, 0, processor);\n        data[1] = _randSeedFromTotalStoredFiles(tokenId, 1, processor);\n        data[2] = _randSeedFromTotalStoredFiles(tokenId, 2, processor);\n        // data[extra] = _randSeedFromTotalStoredFiles(tokenId, extra, processor);\n\n        if (tokenId % 2 == 0) {\n            data[3] = _randSeedFromTotalStoredFiles(tokenId, 3, processor);\n        } else {\n            data[4] = _randSeedFromTotalStoredFiles(tokenId, 4, processor);\n        }\n    }\n\n    function _randSeedFromTotalStoredFiles(\n        uint256 tokenId,\n        uint8 feature,\n        address processor\n    ) private view returns (uint8 res) {\n        res = IGeneratedDotnuggV1StorageHelper(processor).stored(address(this), feature);\n\n        if (res == 0) return 0;\n\n        uint256 seed = uint256(keccak256(abi.encodePacked(tokenId, 'SUperranDOm2')));\n\n        res = ((uint8(seed >> (feature * 8)) & 0xff) % res) + 1;\n\n        _sendLogPayload(abi.encodeWithSignature('log(string,uint256,string,uint256)', 'random id selected for feature ', feature, ' - ', res));\n    }\n\n    constructor(address processor) {\n        bool success;\n\n        bytes memory _data = __data;\n\n        assembly {\n            success := call(gas(), processor, 0, add(_data, 32), mload(_data), 0, 0)\n        }\n\n        require(success, 'ERROR');\n    }\n\n    bytes __data =\n        hex'87ae703100000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000003400000000000000000000000000000000000000000000000000000000000002c200000000000000000000000000000000000000000000000000000000000005540000000000000000000000000000000000000000000000000000000000000728000000000000000000000000000000000000000000000000000000000000087000000000000000000000000000000000000000000000000000000000000008cc000000000000000000000000000000000000000000000000000000000000096000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000007000000f01c9049082f04a4a8829211001f211010a188aa430a017228610a22a98a3122801b9218a18428620a9ac40148e40c2a818a98a88c41203030b198c400caaf98a19001240b39b000e30b598c00e18b79923862de639018b799098b59b098b799098a18b198c4ac2a82ae82b003028628628682868412030108a86288a88287000701842c62892b08070304406288aa84083005c0c4062c940a3007c4c2cc440fb901c805e4f8402c18b018f400283864285998530992665ac24792ea093b568f2545fb70942b0f924d67fd092593f1244a2bac99ac3ee240104206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000001b3e07b029c8aa63401b0218692a60ac006c0861a4b1823001b06590828623001b061a4a5b20b285a9e43003285aa643003283aae43003042892bec00c10b20af90c90a90b190c90b790c90b790c90b790c90b790c90a990a5b06a7a24286c82c1aa5a4b3001b06a8e92cc006c1ca3a06a3001b27286928c80ec1a8ed036c78171be100b062c063d000a0e190a166614c264792ea0942b0f924d67fd09128aeb24964fc492665ac2281842069001000000000000000000000000000000000000000000000000000000000000004e00000000000000000000000000000000000000000000000000000000000009c00000000000000000000000000000000000000000000000000000000000000a200000000000000000000000000000000000000000000000000000000000000a800000000000000000000000000000000000000000000000000000000000000ae00000000000000000000000000000000000000000000000000000000000000b400000000000000000000000000000000000000000000000000000000000000ba00000000000000000000000000000000000000000000000000000000000000c000000000000000000000000000000000000000000000000000000000000000c600000000000000000000000000000000000000000000000000000000000000cc00000000000000000000000000000000000000000000000000000000000000d200000000000000000000000000000000000000000000000000000000000000d800000000000000000000000000000000000000000000000000000000000000dc00000000000000000000000000000000000000000000000000000000000000e400000000000000000000000000000000000000000000000000000000000000ea00000000000000000000000000000000000000000000000000000000000000f000000000000000000000000000000000000000000000000000000000000000f600000000000000000000000000000000000000000000000000000000000000fc00000000000000000000000000000000000000000000000000000000000001020000000000000000000000000000000000000000000000000000000000000108000000000000000000000000000000000000000000000000000000000000010e00000000000000000000000000000000000000000000000000000000000001120000000000000000000000000000000000000000000000000000000000000118000000000000000000000000000000000000000000000000000000000000011e0000000000000000000000000000000000000000000000000000000000000124000000000000000000000000000000000000000000000000000000000000012a00000000000000000000000000000000000000000000000000000000000001300000000000000000000000000000000000000000000000000000000000000138000000000000000000000000000000000000000000000000000000000000013e0000000000000000000000000000000000000000000000000000000000000144000000000000000000000000000000000000000000000000000000000000014a0000000000000000000000000000000000000000000000000000000000000150000000000000000000000000000000000000000000000000000000000000015a0000000000000000000000000000000000000000000000000000000000000166000000000000000000000000000000000000000000000000000000000000016e0000000000000000000000000000000000000000000000000000000000000178000000000000000000000000000000000000000000000000000000000000017e00000000000000000000000000000000000000000000000000000000000001820000000000000000000000000000000000000000000000000000000000000188000000000000000000000000000000000000000000000000000000000000018e0000000000000000000000000000000000000000000000000000000000000194000000000000000000000000000000000000000000000000000000000000019a00000000000000000000000000000000000000000000000000000000000001a200000000000000000000000000000000000000000000000000000000000001aa00000000000000000000000000000000000000000000000000000000000001ae00000000000000000000000000000000000000000000000000000000000001b400000000000000000000000000000000000000000000000000000000000001ba00000000000000000000000000000000000000000000000000000000000001c200000000000000000000000000000000000000000000000000000000000001cc00000000000000000000000000000000000000000000000000000000000001d200000000000000000000000000000000000000000000000000000000000001d800000000000000000000000000000000000000000000000000000000000001de00000000000000000000000000000000000000000000000000000000000001e200000000000000000000000000000000000000000000000000000000000001e800000000000000000000000000000000000000000000000000000000000001ee00000000000000000000000000000000000000000000000000000000000001f400000000000000000000000000000000000000000000000000000000000001fa00000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000206000000000000000000000000000000000000000000000000000000000000020c00000000000000000000000000000000000000000000000000000000000002100000000000000000000000000000000000000000000000000000000000000216000000000000000000000000000000000000000000000000000000000000021a00000000000000000000000000000000000000000000000000000000000002200000000000000000000000000000000000000000000000000000000000000228000000000000000000000000000000000000000000000000000000000000022e0000000000000000000000000000000000000000000000000000000000000234000000000000000000000000000000000000000000000000000000000000023a00000000000000000000000000000000000000000000000000000000000002400000000000000000000000000000000000000000000000000000000000000246000000000000000000000000000000000000000000000000000000000000024e0000000000000000000000000000000000000000000000000000000000000254000000000000000000000000000000000000000000000000000000000000025c00000000000000000000000000000000000000000000000000000000000002620000000000000000000000000000000000000000000000000000000000000268000000000000000000000000000000000000000000000000000000000000026e0000000000000000000000000000000000000000000000000000000000000276000000000000000000000000000000000000000000000000000000000000027c000000000000000000000000000000000000000000000000000000000000028400000000000000000000000000000000000000000000000000000000000000002000000000000000000000006182659060269071060269071060269060a41808a4185180948007046a04b0610a39445c6cbd3cffffffd3e9ded84981142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000206020612029a80a6a00a02204188088106200a06126206126201246470608e29a73ffffff4e5b8ef13ff9b634981942069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000028006800ea18202a18204a1849801849a02801a80081a800a0fc182388610ccb533cfa77b613ffffff4a02142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000040a400e40a48a48448848048a10a484488108480e484481e4044006430610e31a73e9ded848829420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000001a402710098290098290098018e018e1189c18230861cffffffd3b7ad9b490314206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000024080390202500650040440240450048248048050065044016402410610c3187396e3bc488394206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000418064182508500508458c40050c488e400408e4884d884581e502482e482403e402403e400550619049e73ffffff48841420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000482e418850450a48848a48848a400408648864044d80e41805043b0610e31c73c6c6c648849420690010000000000000000000000000000000000000000000000000000000000000002701e6180688680e68841c290680660a49a519e419a51801a01a51a01c01a118e0598019a099a039c039a0998099c18841281cffffffd3212b4a4905142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000006200e200200e200200e20020020020020028425802580623802182e21856210c18248c81c8059420690010000000000000000000000000000000000000000000000000000000000000001000000000000a058a10c00a08c00a0086018861788418238871c8061420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000024880392201640a0390282604c38c00802eb0428cb8028e30a38c02ca0a30630e30800800c380b0a00c3803801cc18448a893a4d834c84ad2933b568f4c99761d32f3e6a4f3ffffff4b069420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000480e484408039020564044024045004824804805006500390618c31873ffffff4887142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000280068048188081206089184046108808981188848848823d0610c29673b7ad9b4fa77b613ffffff49879420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000008003042900a200a40430090049811260080280288080488281848182470611029c45c6cbd396e3bc4cbda52d3c988142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000001a200668801a20066886884181182106384618ac18230859ccbcf9a93ffffff490894206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000006806682608019820261001984026100198400680602680638269826190c18428e51cffffffd3e9ded84909142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000002480e48440a40440a40040840a40040840a48840a40040840a40040a40440a404480e4825d0610e31a73ffffff48899420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000186119829a019a649a019c21068061021060461221a098e11849a0f986110c18440c81cccdd68532665ac490a1420690010000000000000000000000000000000000000000000000000000000000000001070470260840460840263806387418230659cf1b1b1936a6a69490a94206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000008c018c112280e28447844580438443816404400e2b0611029e7fffffd3c88b14206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000010a4042901180106090601a611960196019e019c09a018c418440a79b7ad9b4fa77b613c90b942069001000000000000000000000000000000000000000000000000000000000000000200000000041806438048864004886488e400408e48c50040c418a418040a438a418040a418040850240a4180418064380610611041e73ffffff488c1420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000010e091e21409029063100923122900192292212039221060992390610e31a73ffffff488c94206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000099a200668841808c404310639210849a11b6019c11a0f8d418440c71cfa77b613b7ad9b490d14206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000006a384a3816a94a80a94a82a02a1062280284188a02a02a14210914210800a808a840842a02a4084286aa680a384a380a9dc18250ca12f3e6a471cd4959651e9ded8420d942069001000000000000000000000000000000000000000000000000000000000000000200000000000000026380663846006122180198488602619021068269021068071021460261021461fe094c18250a99150b2a4fa77b613a6a6a6490e14206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000028298018a600a90680641ab24a0492a0ac128600bc184388693b568f4c88c94d3ffffff4e3f0f9530306074a0e94206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000b9228164880922180e40c438a018c50443845036418462f0619032073ffffff488f142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000001861186018841a01a2120aa0906006220aa0280da800d4182408710943734f23c771342808c4ffffffd3071a104a0f94206900100000000000000000000000000000000000000000000000000000000000000040000000004a036a006a18a026702a88a1005a871009c099882801a80da8007f8cac806ccb8838c8e3001b0e498810038ca01cb883a51a5981838181aa0c182414899a14316d4c6480d931e4ba84ab050c5b53b5d3e54c2850c5b53ebd0a34d79510d30a303aa94a28c0eaa534a303aa94b58c0eaa539a303aa94e10142069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000066f03ee1806e9ce81ee986e80e98ee80ee1c89ae00e1c2106b803b86a06638038690918e00ee1a8198e00e1a42463803b86a0663803a61093a05ba622e84e988ba0316038607bc032a32b30609b06b306a1b06134a1b40b4a3b20b0a1b405b06b300b0ab40fb0e0b0605bbc18c61cc1cf31631504e61c0ed3ffffff4e31a4e938c7a3a4b10942069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000001e6184e600e700e6380661468261062186459a4598098459a49a49809851a41a49a49809851a41801841980198419811860598609cc18449291cffffffd303060749111420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000001080988078a607a87280286a803aa690a00a1062a01b07100a841aa380a881aa82a9acbaa1ca006a1c83ac20620c006a206a0c00ca8c00eaa0a30138c3805b860274186414812593f14c95573930971e54c40e6813ffffff4f244cb1194206900100000000000000000000000000000000000000000000000000000000000000026280e3016218062180e21842382402238221825003102022102804804802182302404482282282480648264816401e4846d061924a273ffffff489214206900100000000000000000000000000000000000000000000000000000000000000010000000000000000000000a03886038a0b82c18228649071a1048129420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000d88608c038a408e40a018c6018850241806501e482e2b0611031e73ffffff4893142069001000000000000000000000000000000000000000000000000000000000000000200000012a01ac07a8408a0261222803a840842866084a81288aa019aa22a00b03ea192418448a89150b2a4d0a023130306074cc1be2934a978f4a1394206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000181084006210019c00a018a09a0126d926026146026106600e680641a110c18448a81a6a6a64fa77b613150b2a4914142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000002229010a40091a48449a88081a88281a8849006902350611021c55dc6f532665ac4ffffffd3150b2a499494206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000003058103890007008438a39001098e230850b870010ba8390850b8a3b01b8c3b11830780f081708165d061163264542ca93a6a6a64e4bdbc75d314f6f1d74f33cfb31d3ffffff4f23ab653cb951420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000001a88a80a88a809a8808420aa021082801a802a8188aa8188ac0aa0a88a80a88a812a1f96418250a99150b2a4ce9360d366b0d94ccdd68533b568f4a1594206900100000000000000000000000000000000000000000000000000000000000000010000000000000000201620423822380e1f84c18238861171b2f481614206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000680e6806886046886884181182106046700670bc18430a59171b2f4fab46b5382603049169420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000418243982100902184982100902184206a00a06a0e0a06370608a2944a8803d3eae5dd4edeb66d38c67254997142069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000e21856682300702e61411a5180798439c4398059849851841984180598439c439c118018518118518098e09c039c099ac184710a9000a114ffffffd366a0d9491794206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000011c199851805986019848a41811a4198098488641c50a49801840a68a418488e49a40a68a41848a68a418018408649848a68a41801848a49c488641809c49a09a48a49801a0986019a49c01809801801a09a01c01a09a0180398098018098139809813d418a51aa1d7fffffd5e4cd5f5118142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000001c21a01840861221a40861221a49851c41a418118e00e418428c41cffffffd3000a1149189420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000418243982100902184982100902184206a00a06a0e0a06370608a2944a8803d3e4eed54dba50dd3394d1d4999142069001000000000000000000000000000000000000000000000000000000000000000200900b9011221a11a2120180184086046084180180180106081084180181180106044180180398079811a418440c79171b2f4cb840e13e9ded8491994206900100000000000000000000000000000000000000000000000000000000000000010000010200e408090e090e0387e170608e21845c6cbd3eec4ad489a1420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000010210210010210210010210110210110039009809a01a09801c11c011c18630a591d27424c5c6cbd3e9ded8491a9420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000218038860442003908006810818120420602880e880330610e2184542ca93ce5b8ef134a978f499b142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000068008016218800800218092620020498020e020e310610c2164542ca933a4c814fa77b613212b4a499b942069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000068008016218800800218092620020498020e020e310610c2164542ca93ffffff4fa77b613212b4a499c14206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000028062804180190624124190608a19257e874d3ffffff4c910e093150b2a499c9420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000011401940990e090e059560196e090179021023060962a64542ca91150b2a489d14206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000012039201821211821229210a439811460041a019068d418230a595e54434ffffffd3b7ad9b491d94206900100000000000000000000000000000000000000000000000000000000000000010001201921102006408090e010e1b0608c1964542ca93ffffff489e142069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000060860460861008841811a21002062003a0622310608e19873150b2a4c9996b13ffffff499e942069001000000000000000000000000000000000000000000000000000000000000000100280e2842100388404638263864182386615e54434ffffffd3c91f1420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000001840a058a418018498019849811a059a089c182406712f3e6a4eab83c53150b2a491f9420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000a06826620600e8089006908602a808122220a2290600a1a22128028084a062a0aa839a83aa097418250a990306074f3150b2a4c912d49342808c4a2014206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000210038840421001c00840263826388c182386612f3e6a4edf27b93150b2a4920942069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000028200ea0803aa2006a8813041a830a3041a831ea00c580370609021c4542ca93cffffffd330be6a4dba50dd34a978f4aa11420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000884080398282418210200e60a48260a038a600e418039a10e418440879150b2a4f3ffffff492194206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000001a039a01840860460841a49811849801a039a00c418430859071a104ffffffd3424245492214206900100000000000000000000000000000000000000000000000000000000000000020000106019401021260250848850241840848c40240c50a40240a68040a018a600418441824180694019a01c119c18a39261cc0028453ffffff49231420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000036301e31810a49a018a49821906682290692214692602612692214692602610e619066846126f80665827581e6780604e69bc18a51491cffffffd3000a114923942069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000001a0b9a408408404408408400610600e4981798480e49800dc18638a69cc0028453ffffff49241420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000e8816883e80a800680a8036218062182e2223022223026222302222302e218062184700e281628263806784679068071066191e68066391663836698267d063185ac73cf93357d3ffffff49a4942069001000000000000000000000000000000000000000000000000000000000000000200000000000000228162806218062182258225802102182210218221806218440a058a502481e480e5006482640064006550621049e73ffffff48a5142069001000000000000000000000000000000000000000000000000000000000000000200000000000036300e290018a68840241c2398e49a49964996419e419e499649ae01996018e0199609a07986013c18641281ffffff4c0028453c9259420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000009c0598e0598e1196059c621801980182198e31a49a41d6018c418258aa1c73393c3241261420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000088060a08a60288281c22002221c02002261a00a0618080089c88289c02409842003a068081848828848d829008d80685828380e838490168182890631252240028453ffffff4f3743f3f49a6942069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000300630029020440840c41824188501e503e290610c29840028453ffffff48a69420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000108680e688039021a039a21011029c11c29009029c11c29001a40861086418601228421468268050260048068268049a01a09c118e118e0a2418849289000a114ffffffd3e4cd5f49271420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000001860198e01982398018239811821831801821831811823980182398119e01ae098419a018419801a0986019860199418458e91000a114e3a83d93ffffff4927942069001000000000000000000000000000000000000000000000000000000000000004200000000000000000000000000000000000000000000000000000000000008400000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000000000000094000000000000000000000000000000000000000000000000000000000000009a00000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000a400000000000000000000000000000000000000000000000000000000000000a800000000000000000000000000000000000000000000000000000000000000b400000000000000000000000000000000000000000000000000000000000000bc00000000000000000000000000000000000000000000000000000000000000c200000000000000000000000000000000000000000000000000000000000000c800000000000000000000000000000000000000000000000000000000000000ce00000000000000000000000000000000000000000000000000000000000000d400000000000000000000000000000000000000000000000000000000000000d800000000000000000000000000000000000000000000000000000000000000dc00000000000000000000000000000000000000000000000000000000000000e600000000000000000000000000000000000000000000000000000000000000ee00000000000000000000000000000000000000000000000000000000000000fc00000000000000000000000000000000000000000000000000000000000001020000000000000000000000000000000000000000000000000000000000000106000000000000000000000000000000000000000000000000000000000000010c000000000000000000000000000000000000000000000000000000000000011000000000000000000000000000000000000000000000000000000000000001180000000000000000000000000000000000000000000000000000000000000124000000000000000000000000000000000000000000000000000000000000012e0000000000000000000000000000000000000000000000000000000000000136000000000000000000000000000000000000000000000000000000000000013e00000000000000000000000000000000000000000000000000000000000001420000000000000000000000000000000000000000000000000000000000000146000000000000000000000000000000000000000000000000000000000000014c000000000000000000000000000000000000000000000000000000000000015000000000000000000000000000000000000000000000000000000000000001540000000000000000000000000000000000000000000000000000000000000158000000000000000000000000000000000000000000000000000000000000015c00000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000166000000000000000000000000000000000000000000000000000000000000016a00000000000000000000000000000000000000000000000000000000000001700000000000000000000000000000000000000000000000000000000000000174000000000000000000000000000000000000000000000000000000000000017c00000000000000000000000000000000000000000000000000000000000001800000000000000000000000000000000000000000000000000000000000000184000000000000000000000000000000000000000000000000000000000000018c0000000000000000000000000000000000000000000000000000000000000196000000000000000000000000000000000000000000000000000000000000019c00000000000000000000000000000000000000000000000000000000000001a200000000000000000000000000000000000000000000000000000000000001aa00000000000000000000000000000000000000000000000000000000000001ba00000000000000000000000000000000000000000000000000000000000001d400000000000000000000000000000000000000000000000000000000000001e200000000000000000000000000000000000000000000000000000000000001f00000000000000000000000000000000000000000000000000000000000000202000000000000000000000000000000000000000000000000000000000000020c0000000000000000000000000000000000000000000000000000000000000214000000000000000000000000000000000000000000000000000000000000021c00000000000000000000000000000000000000000000000000000000000002220000000000000000000000000000000000000000000000000000000000000228000000000000000000000000000000000000000000000000000000000000022c0000000000000000000000000000000000000000000000000000000000000232000000000000000000000000000000000000000000000000000000000000023a0000000000000000000000000000000000000000000000000000000000000242000000000000000000000000000000000000000000000000000000000000025a000000000000000000000000000000000000000000000000000000000000026e00000000000000000000000000000000000000000000000000000000000002740000000000000000000000000000000000000000000000000000000000000284000000000000000000000000000000000000000000000000000000000000028c000000000000000000000000000000000000000000000000000000000000000050000000000001ef056e20a20e046238a20f00643801baa20e00e180e806638a20e006e3852a8c3813d9048e05744944013d36c211d12516c00fd12d12420fc9651251204744954811d12594490047459485f25415d92d817d1285f259485f259405700125019d1206765015d0051606f4580fbec1a823291b7ad9b6fa77b61bffffff6f1b1b19bb4bcf9a8d3a4d833484ad28cd4b4749d08d0cb5012420690010000000000000000000000000000000000000000000000000000000000000001001850240a518518004c18220630a0ba7bd734792ea0d562da93101a42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000002100198210a02c18210c00c98828c00c1802b0608628c6d0cb430c8cab0da37eed34a05140d562da9328224206900100000000000000000000000000000000000000000000000000000000000000020000000000000000059c0d9a41a099a5180998419a059a49a21809a01a41c09a01a0186039960b9c0f980181394418a39471171b2f37fffffcdb102a42069001000000000000000000000000000000000000000000000000000000000000000100000000000000240240c400500110608618a73afbb8d562da930832420690010000000000000000000000000000000000000000000000000000000000000001000000188e038a10a10a038a00a05880880b8a0b89418830c59b003a42069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000004a38364286ac0ba868ca02ea1a088a826a1a08aa026b0422a0598a184b00ea19001ac8826b807a86804e4007ac01b90056e3015b10056e4013b9004ee856e4015b815c0c05703015b215b0e056c3815b0e056c85703815c0e857085f005f004ed106a06f207a77b61bb7ad9b6ffffffdb171b2f366b0fb8db4f0a114d212b4a33842420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000001fa460081217a2022620613a2120620022038c03a00980206220200188e0a40a46008008900a2021611881803a16020e6046900e882e7b0619c43045c6cbcd2f3e6a36d66b0d93184a4206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000004700ea384a00ea00110608a19250ac3e4d562da934d67fd0da37eed344a2bacd2593f132852420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000300300810800800800620600e8028008802b062064086d171b2f368dfbb4d562da93185a4206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000080990282628062044080902006488400250608a29245c6cbcd1d274230862420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000044180e408640440964006026606c1842885120404634912918dffffff3106a420690010000000000000000000000000000000000000000000000000000000000000001000000000000094110310012112130608818e458c540d26268530872420690010000000000000000000000000000000000000000000000000000000000000001000000000042380e284284280e280281e286c18430859535bbd3007a420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000005ec3a01db031c83017b22b46a0c04ec8ac10c10c05ec9ac12c12c016c816c1cc12c12c006caac84c1ccb84c28c2ac82c1ac81ec80c28c28c28c02c18368b0ab0a30a02c85ec28ca8c00c866c2cc1876c80d06ec5062906b26d42b0f9340c181cd54417837fffffcd535bbd328824206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000164784e40ae0d902d81e4b8960392299429003902384282500e40860b901120103056212010285640840040a158a4004066482407e710621662a6d42b0f93088a4206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000006687668266866682e705e6836685e682e7056702e7056702e7056702e6184661826638466381e638366781e6582e678166886381e6981660a63816638a700660c6784678a68468c6990e638870260c679471470a68260c65926792708618c67916619070a70c6392059269261221c298e403641a5182186218e403641849c218629864036418e298098298e4026418e318099e0926099e039c19986150c18a7b2e91039a04713c3ca94109242069001000000000000000000000000000000000000000000000000000000000000000200000000000062f8163580e378421806204218430423822182304238430221843042180282300e3022002842b84306e286e286e218c18851899b009a420690010000000000000000000000000000000000000000000000000000000000000001006382608608600694685c1822063926268535e97ac8dffffff310a24206900100000000000000000000000000000000000000000000000000000000000000020059011940f94079a09411a018643806382680e602702600204600680660c01a0798400498099a01c01974184414712e103834542ca8d7a5eb2310aa42069001000000000000000000000000000000000000000000000000000000000000000100000000042380630428020020162581e206c184308591324e0300b242069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000904e80889a803a0220012b20b04818802a80ea82c3812809a80b8c056e3013ba13ba15b817b817ba1597c190318819ac3ee6db6ebd5b171b2f34bcf9a8d128aeb34e9360cd1e4ba8330ba42069001000000000000000000000000000000000000000000000000000000000000000500000000000005b6e07b0b9b003b0ada2a3b001b2a1b0232aa4a1b001b0a1b021b0a24a1b001b0b322198c29ec04c22ab065b0a7b01308a8c10612732a24a30130b304984986c28928c04c2cc79cc28928c02c22d2ac598c286c04c22ab4a3b4a30ab0130a34adb4ab0132a5b4b32a00ab00b0a3b2029603a8c02c2ad00eb01ec031f063188306d36f2fb352a5e3cd0d0d6a37fffffcd8ea0f6328c2420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000e83876818688668196905e81986885e88880889a805e88a4246a017a0214918885680841a072001a209a25227220a0623e52272066fa2672002061fe80289ae879a884899e801e900e8986906685856ad062128306d36f2fb358d5f64d1414a1318ca4206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000001415940920120f9160120920b92019201209210c0120590092090e010601900100790661403940d980181f981180b9a4184610b93a4d83345b43e8d265d87310d2420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000002413a060a20220f90838088250264221220220a0482312880e8028828148008108806800801e81a889803a40da80281fa81280b9e4184610b93a4d8334792ea0d2882f134910e08d265d87320da4206900100000000000000000000000000000000000000000000000000000000000000010004258062002806300200281e280203e208c18438869171b2f300e2420690010000000000000000000000000000000000000000000000000000000000000001000000000024043004380400400150600620a558b6a4d281450308ea420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000003a0e0ba240842205a2508522122418841a20a06fa0026613a0370611039e45c6cbcd1a1a8534a4a71cd262685318f2420690010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000223822b81c18228449244382300fa42069001000000000000000000000000000000000000000000000000000000000000000100000001c01031260861001c006418218829b4749d08d562da93110242069001000000000000000000000000000000000000000000000000000000000000000165016408e4044084780481e50361d0610c29668dfbb4d8668c43090a420690010000000000000000000000000000000000000000000000000000000000000001000000000002302484480480480150608818e4910e08d262685309124206900100000000000000000000000000000000000000000000000000000000000000010000000000000a08c08a00a038a10c00c086c18230659150b2a3011a4206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000660849801aa801e82a028818081a812c12c12a07aa00cc18438a693c658534bcf9a8d7a5eb234b439b0d2626853211a4206900100000000000000000000000000000000000000000000000000000000000000010000000000000022384284280280e301e205c184288490d1bb63012a42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000001106059229411223920902790609901f0610c2964989a14dffffff30932420690010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000805880096002c182284411d27423013a42069001000000000000000000000000000000000000000000000000000000000000000300000000000000005986179a41c1398518e0d9a41a60b98498118e07986079a40166106022184610600e61068a08a01c41811849ce41809841841a0598419641860b99641817980981da4418859aa1e9ded837fffffcd7a5eb2311424206900100000000000000000000000000000000000000000000000000000000000000010000000000000000000000c010e070608610a4542ca8d2626853094a420690010000000000000000000000000000000000000000000000000000000000000001000000010a03886018861096089600c08c0f8a0f88418221241b0152420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000002e4186e498564d84651836578264380e4581641826458064382e438064184238443824184e4b85e4985e49866500486e480550621872e4910e08db095a420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000118e49a41c401e6990712079c41841c41a41a039c418e49a41a0398e41ae400e61906b9061011a418603996400712682669401c41a0d98641841c108e019841841a4181598418e159c01a199a0181b980981b980981fb041905a0a9ffffff37a77b60db11624206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000392e0994e0390e0390e11060b9060940f940920188e0190e17906179419941b921b903f062145a6484ad28db096a4206900100000000000000000000000000000000000000000000000000000000000000022890088e09088481c0ba460081c0fa2600898119881a8181598818885e8185e6221ba21ba21b9880765d065145a6484ad28d2f3e6a34910e08db19724206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000001e705e658467146836612619260266106792601677806739068263826690602703e6180704238066584e658566185e706e618c18851c9942cff9345bc3f0db117a4206900100000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000170c87003f0ca94a0ba884a740848802704a6a86a92c007ca42a628610849001704861062862a62b0806a41221018a1902841901108504a81842862d1110050188c2a98aa0642a030a3082a192288c40c0840800c00331280840c03021280c10ec4a621030021029330f3188b002104bea4a840c2104cc00ec29281240c41284e80e833010ca03b803803cb04a17c8619ca1dc81ddcc18c52a9923426434389908d150b2a351a070cd3b568f34f9ba8cd2665ac34989a14d3c3ca93418242069001000000000000000000000000000000000000000000000000000000000000000c0000000000000000012106220512d1301210049448645122004944804a40129062125123149125135045004a4c885085125120045121a34092d121144d4114c84494488508512524d321a14c864494494494c84ca94cc512520500192a144824a4507250848448e84d4c94054912a14cb4c944b4212512108494c9411418074192112212092504480512214494112214ca45407d13234192512d122144941084944a449482f4484508506508512504524512212512004520dd12114232d12194c944944b44a433403f420725125061064944944b421410c5011d285084d41845123a5231404f25085125325065320125005085125015c942144948148140141a125125013d12508c9500a18141c9449404f449431252054ed0605125125013d12012d0153050601d125015d325001c0605d12d213d325001c00fc9484f401406f504f4877401405e1fd21787f4026032a064a6bc865bf3fcd42cff934bcf9a8db7c9ee350ac3e4d26268534cdd684d5fa1d334b59a98d2665ac3498a4206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000007e806e1fa21987e8185e1fa2c201787e8b080561fa4c221387e930884e1fa2d201387e83488461fa4c20c221fa8602e83081b088267016a1826904901ea584a82a81e801e800ea184a02a806a826294039aa816a00a016a1c139ca81eb01ea986a1803986b04b02a82a184a39aa806a8e03a801aa0a80a805a8e12c09aa0a8601a80787ea182b00a85e1fac1387f29063a4acc4bcf9a8d1d274246dc4549134d060b173299242069001000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000017ace0b87ebd8161fa8ecda96107eb34230e2b06a3821faac88c18cc18acac087ea30e2bb4232a821fa8d0d6c1a8087ea3239b4a021fa8c0c08a608cc2a107ea0a01896038aa001f90690078860792604401e49801062049c090882e70049881849888041a4188128128808920a2418291849801849a0146204008980188848848900909029046220906200d04188b9d613758a034790230d28145034dd6281b1e408c6ca05141b3c5a9b3319a4206900100000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000003a812801a811a842c42a0284280a807a8290a18498a184a862807a829a649ca016a18479c41889803a82106619460892812a4198e5182a4a02a084198e42870a8a8088439851aa1c2a4a88418518a126aa68a92a45a851ca1a2a4a94690a1066a870892a5184a8419aa10724a946284284398a10628624a9462847a8498a1892c498a106a192a98928028498a11ea90a1a92802849a028641aa60892802849aa82b10a9a222a02a0a42a03a8428724a00e62807aa122a816a026a00682807a80187ea0061fa817f8418c632b9b7a30ebcdeee9e637fffffcdf1d9cc321a24206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000e81881803a262003a262003a262203a06a005a0608800e898220600680880881801a07221226206088180a0218688289881c8180a062061a00a2658281c41c80081a51a802818e8006800884b90610a9147a77b60dffffff34989a14ddcd2c8319aa4206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000000002e6181e638460c704610e638867024998e29a11a4999601984f986019a4186419801a039c11c11981d9a1d9c0996c18a31699000a113470c540d1414e5311b2420690010000000000000000000000000000000000000000000000000000000000000003000000002e4186640c485e4086482e4588e43806418e48c51c402419e48849960106b9467926d9069926b9467926791665926592663900106392e7100906392e69001906391e690059060761fa4c18c520a942b0f94716357d9411ba42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000001e482e408481648c4016408648064096400538b6402409e40064886401e4184410618a5186d36f2fb309c242069001000000000000000000000000000000000000000000000000000000000000000200000000000000005920f902900992219205900920901f9811211802060080240240481811805988024f0620e41c63a83d8d1414e536dffffff319ca42069001000000000000000000000000000000000000000000000000000000000000000108138c098c00800a098800810c018c008038961f8b418240c79b01d242069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000010039007921121122024380e21011884004826408482401e2102004046430621439c4002844d66a0d9309da42069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000026418464782e6886682660a66016678c600669267006006146700539809853846146039a4b80e6391605996119c1396c18c39c89000a11350ac3e4d1c3150311e2420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000009be059a4b9a03984f9a118498449a09849a0140192680612314039260061221407946916602641a484702e61201981b981b980d9d418849891000a11359a8364db11ea42069001000000000000000000000000000000000000000000000000000000000000000b0000000000000066898561fa0b20a1a40d87ea3a0a7a0a200387e85aa8a9e8288041fa4a188aa8aa82a6a2a20007eaa062a8aa82968189288076b1aaa2b20a20a1a4a18aa019ac62c8286829682882882a805e8286828e8288296829e805682a829e828682c8286828628804eb20a7a0a1a0ad98a220fa0b22a1a0aa0b5a0628803e8286829e8ac829682a8a8803e82ce82c82b6628803e818b1a0b20ad98883e818b9a0a3a0a3a013a0abafe15a2ada043aa66781e65aa6811ea5a1e680e629e62964a8652868a9e68462ae6a864a8e4ac82be20262b66ac4a0e4a4a588a08a20b0062882822c82c628e82a85a868088006a1a0aa0a022aa829652c9286808880e22a828200e2aa8ac810ea5a02a882805ac801ea0ab2247a06220aa0a816228828801ea8c82847a88180a22601eb00a200bac0916079a0588888a02a08007e1f80ae818ab3b59ffffff37f36f2cd91e4e8350ac3e4db7ad9b321f242069001000000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000000000000000000000fb0680061fa0d22c387e83268b41bb5e17b0683468046830831683360fb168b083483068320bb283068b0e8308b2830801eca0c3a2c20d20c22ca0605b28328328b08348309308348006d20ca2c22c22ca0c24c20c20c2001b48328b08b08b28309328b08301348328b08b093081b2932804ca2c216c226ca4ca01328b085b087b293401b2927ed00ec24c10683b44a4d016ca2d12ec928b407b0e2902902902902108b409b0e210290290290c206c84c006d106c390e81b21306031e428e432e032034032732a7a261b0e0b1663a9e67b06130e65a9667b0e0b0e7fb403b067fb40b87ec00602020631ee3e6d8ea0f634d08088d3420221c002844dffffff329fa42069001000000000000000000000000000000000000000000000000000000000000000200000000000062183e2990038c458c10c4b8a08a4f8a0085388010e0393607906039a11a0d98e119c0791c186496819ac3ee34002844d66a0d931202420690010000000000000000000000000000000000000000000000000000000000000007000000000000000000000000000000000000000000002e880e1fa40187e85801fa2e1da3e17a3e42211a564220ba164a0e4224a009a0e52164224a203a06421e52242042401a2e4224a04225240a06420e4a241a24a4024e42241a24226420425e421e425e422421e42664224216427e42164a2643a4524022420425e5240206422279883928180819469a3e0a44a09f829108a7e12270080068380681848986800e8816900691c8846900e89a19a005a21ba009a019a209a019a00787e80161fa20587e800f710651b0b6470c540d66a0d934ed5a3cd000a1131a0a420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000e2381e2198e280621c21962842186219620421ce10873842186319608868a088601a08c00c10a0188088708088098861846298418179c179a09fc18a41c8166a0d9363a83d8d000a1131212420690010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000002380418210229b021a42069001000000000000000000000000000000000000000000000000000000000000001f00000000000000000000000000000000000000000000000000000000000003e00000000000000000000000000000000000000000000000000000000000000480000000000000000000000000000000000000000000000000000000000000054000000000000000000000000000000000000000000000000000000000000005a0000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000006800000000000000000000000000000000000000000000000000000000000000740000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000008e0000000000000000000000000000000000000000000000000000000000000094000000000000000000000000000000000000000000000000000000000000009c00000000000000000000000000000000000000000000000000000000000000a600000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000be00000000000000000000000000000000000000000000000000000000000000d600000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000ee00000000000000000000000000000000000000000000000000000000000000fa00000000000000000000000000000000000000000000000000000000000001040000000000000000000000000000000000000000000000000000000000000112000000000000000000000000000000000000000000000000000000000000011a000000000000000000000000000000000000000000000000000000000000012800000000000000000000000000000000000000000000000000000000000001380000000000000000000000000000000000000000000000000000000000000140000000000000000000000000000000000000000000000000000000000000014e00000000000000000000000000000000000000000000000000000000000001620000000000000000000000000000000000000000000000000000000000000174000000000000000000000000000000000000000000000000000000000000017e000000000000000000000000000000000000000000000000000000000000019200000000000000000000000000000000000000000000000000000000000001a600000000000000000000000000000000000000000000000000000000000001cc00000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000187e20161f88108007e2842001f88018a0081b88018a008198a018a008198c10960080d8800c00b6098800e610801896018a600800a08a608800a3f84218fe058ee08c038ee098a00c00a00800a1080988078801880bae418c722d1b80134206900100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000005e298007e218007e218058a118a6006285661001886056212092210139a48040a1590694610159841a498179a21a418179841841841a1798641a15886190704e21864184180f98019e41a01070060261886107107106106f90018e41a41c6099e41c6098e49ce019ee079d60b9c6119a605bed0b0f90630b116f0fc3e5bf3fcf42cff93901b42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000620362022016282280e2022002006282200282284202200284204290c18c28e59b8023420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000001081b88088617880086198c00a1988088e118800810c138be00800808800800c058a008600860080080389e008600a038c600c018f6018a08a08a10a008098a08c08a0d8a08a15a7418e59cb142cff93802b42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000001d881d8a198c0788098c058c078860188e038a00c089e10c08e610e6018de058be0d8960791418a51899b803342069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000107e4380e418664382458664580458665186e5186e5186e4f87e4d87e4d87e4380418764382418764384507641806507e290038a1f8c018c1f9028062901d9405941990605906179060590615906079160f90e079160d91609916099160d916079160f90e0590e1590e019161790e110e1b93e007e4783ecf0629eeba50b3fe4f212b4a3883b4206900100000000000000000000000000000000000000000000000000000000000000050000000003921590202e4881590281e5081590281e5081590300e50a15902920192305640a50250c158c418050c158c418050c15886478c15886478c15886478c15886458861588645886404640c498c404640c418091c959c902919e91ae818491a681b6880e89a681ae900e919e81ae881e919681a6882e918681986903e9985683828182f070649ec3845c6cbcf212b4a3c5c6cbc7212b4a198434206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000000000070061f9c0387e6887021f8861841f9841a107e6106841f9841a107e6106841f9841a107e6106841f9a4841f9c40061f9a40061f9a40061f9a40061f9a40061f9a40061f9a40061f9a4066700e6101b9a0398400604e600680e6182e6006580e700681e6026007016680604600602602600681e61826806026026182669201809a09841c0b9a418609801a41a0f9d6159ae07d041885bad12f3e6a3ce9360cf171b2f3904b42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000a1b886178a6118c60988e08ae0189610b6088e018be008e058d6098c60d8ae1788e078ec18c596a9212b4a380534206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000004066402406640248564804184649846498464180503e43804183641822140d942044381e4180e5080590e0388508404438805884f83e47816710629472869a9a98f6a6a693885b4206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000018e119b6119b6119b6119b6119b6119b6119ae159a61599e199961998e1b98e1b98e1b98e1b98e1b98e1b9861b98e1b9c01a179860186404661807126080d98609851c201e6184612658166180641ae0996039e6079d60b9c6119960ba8c18a63ab12443823e5b8ef0f128aeb390634206900100000000000000000000000000000000000000000000000000000000000000080000002822783e238020028025802183e20029802980283e25802822f83e25802822802983e2002580e2984620025802006300284e200258020062584e2780284278562002180200e2385e2380281621866280301e306e23816200306e21842042386e2180280e20028762384200628762384302287621802006238762381e30762182e286e2180e284282e200e200238062782628062802780623842842022802002180628425822042022022003016200e218228035806200e238fe0b8fe10c098800ee038a018c08f6038a078a08a088600a10a01880d8a08a00800808a10a10a078c10808808807880188198810813fc419094309171b2f3806b42069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000041f8a08c1b88600c1b8ae178b617886008e17886088e138860188613886038c138c1787e1f90c182696c96a6a693807342069001000000000000000000000000000000000000000000000000000000000000000b000000000000000000000000000000000000000000000000000000418261f9000801220664986202400418a159000851a0902106285640048869020269417900084084182418438819922121106004804081b9062024182102902066290e01a480210198a40840021801840850a178801229a0106906205e2390e600610210205e311661941b8848841984004186e21066906100106285e239864788158801421c01c488405628040a488600612310158c4084826006004388158a488402600610e210138c419a09840841a010138800849c11a41864080f8c01271009063804080d91e21061009c4582e210200290660461061221001220264084188498118418010680210200e219071461001926886084b8851964016418e40a5002906192610010059068841a21840840c694610600402e638061880106926006900f9ae11065901798e05980f80b0818c8c1012665ac3c84ad28f2443823907b420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000461f881080987e28428161f8a038a107e304282304204e21816259200a10a08a010258162590298021902981631233902382621942f80488e058c01201000a6114088610a0590108603900121086a54482e3245c27fffffcf16f0fc3888342069001000000000000000000000000000000000000000000000000000000000000000600000016486e1f9020361f90039028261f940390306e50062106020640850565084045084a26a0508418265086400212310020619423941122590623900206191621920902390e239202063903143100903142b901206192219421262b94122720409650a48be500e89a81230fe501e89889220fe503681943b9213a0e50be43856818839431261ba0620e094312087e8988180650a4187e81889880164b86e89a88561fa26200787f650662aacc55105e0f7a5eb23ef1631503988b420690010000000000000000000000000000000000000000000000000000000000000005000000000000660461f9809984180d87e610601e41980787e614600e610e60061f9845980191e600485e4806126602611e6004182e459a4798418012e21160591e2916602690691629160191e291e01906026116211e111e6084598019811843980184780479801843980d984198098519a11841980d9a51811c479a05985046612601e6782e704e68561fc5d160b8ab1d51bcc317acf82603039093420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000006e6081d98201645806498202813609468802059982008166608018599820061666080185b88015661081201566008900184b9848081002449845808184008101206108128184028900a01206008180a0604801e804804805e805ed94286e5148a84dd930492593f1250ac3e491e4ba82189b420690010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000a180a1806b1a0186a0ab0a600660ca1a21a0282a832860262821982980982a821aa0182398218019827980182798039825ac2598079825a825980b9a2d980f98649cb180b9a818839881a860166a26a4720ea0066a46006180620ea046a06a016a20ea04620ea016a20ea04620ea016a20ea04a20ea016a20662812a92809a88aa03aa82a0b9882807ac0daa01ce50c2f9e626b9bc0d13acf0306073c100c1cf2593f13a0a34206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000d941390210604640a604649811a211a00a20fa20a0e09a417a417a41b87e800804e8028046880903e88288165f06320820531214cf128aeb3d0ac3e4f071a10398ab420690010000000000000000000000000000000000000000000000000000000000000006000000000000000d981387e684e1f9820fe119a20fe4280d984083f90a02e6143f90a0266106a0ee4a8079a52a25922b92a016694a92a8a4389651805984a0a106a12a10682842a428518039852252a8aa52a4284a8518019841a442a4224284aa4a88aa498019841a441a04ba881941184197e819460065abe4ba45180289995e600aba26b1c4d980ba9e87aa710e605ea3a266587ea3a266280387ea1a4a8361fa860d4511139a72d11bd2a5e3cf000a113cdbcbecf36bac31a0b34206900100000000000000000000000000000000000000000000000000000000000000076e63841f982198e1b9a27981d98259a1d9825981f9825981f9a219a007e60866041f982980187e688600e1f982180387e608600e1f982180387e608600e1f982180187e688607628268a607629981d89e681e60a0989e602660a0989668266880789e603660c03896681688260ce681681088068be681e81288060ae7026814898279c4a205a0439ae43a205a05fa005a055a043a005a245a241a043a009a241a041a243a00da0e52202041a011a241a00a24a013a041a2120611a041a2007e8148841fa04220387e8867a54388e89d3b66fa439cf5cf1414e5218bb42069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000007e210285e418848464588503647802140792610847804980e47804781e45804582e43884383e4188418662001f9061b900884056504484e4046714341e5167aa6f150b2a388c342069001000000000000000000000000000000000000000000000000000000000000000600000000000000001d87e1f87e1fa0e007e89a8801fa26a0087e81a8021fa07021fa0707688081c1fa4707e9088181fa06202981fa06202981da2624607681c89812015a0720682904e818e80081846819680081888468196912883e819689069026898e9128928180689968008128184188128798e8808128126a062066a063a00a243a061a072061a212241a06106a061a06a205a24a049a8186818368798e886e878175b4202e39af324002844f1c31503cc4e598f66a0d9398cb4206900100000000000000000000000000000000000000000000000000000000000000090000000000000000000000005e1fb06b03e885e902d2c05a8c580885e81a832a982a31ea18885e81a420a02b00a82a32a00a1262019a442412a12861204a81ba866a20a80aa02a0206a0b066a1a062203a80a80a0620ab0a066a180884e800ab0a06ec801fb2a066c386ea30a866d28c06eca81db4a3017a8caa3bb4a3017a8caa3db2a3017a8caa3db2a3017a8caa3db2a3017aac2a3da8d05eab0a8aec89ed066a32b09ed09ec28c06ed2a25b425a8ca81db0a30b086ca8c0ca7876ca8621b0a8ab34a30007ec2962b0a0aab4ab2007eca96c28eca86c041fb2a3b0a1b2a1b20187ecaa6c296c0161fb0b5b20587ed2b6d02e1fb4a00caad281987ec186e021c45c3e3aaf544505284f1414e53f93357cfbffffffcf7272f31a8d3420690010000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000107e638361f9a4980f87e6126821f8ae518107e2d926041f8be6b85e2f926704e2d91e6384e2d9066186e2d946801f8b651a007e2d906687e2d90e68762d91670662b936618462994e604e299066b81e680e2790e68566102d926604e6142992e60466145f980d9851a4f9845980b984980984598419a4598079841a118439a419c4398079a01984398018419801c4198059803984198098419a098649a0d9841980984398039960b9a49801984198087e610600e61066021f9c039a51a087e601e694603e1f9a4981387e70561f9a13e85172b9eac519bf93357cfe4cd5f190db42069001000000000000000000000000000000000000000000000000000000000000000400000007e1f87e678a1599e80a1399e8881399e88a1199e9081199e9081199e9081199e9081199e9281199e9281199681a81199681a81198e83a81198e83a82200d98683aa818266226a00827ea02a276a849baa01a895ac05a891aa0bac85ac13aa60daf5110f8e732b9000a113ced5a3cf3b568f1d9a8364fba0e34206900100000000000000000000000000000000000000000000000000000000000000090000000002e1f9a1b87e610685e1f9a4981587e694683e1f9a45980d87e691e60261f9c49980587e713660161f984f9a0587e2184d980587e3184b980587e318499a0587e219847980787e2198459a0787e29a47980987e711e68261f98499a0d981b98479a099861b9845986098e5180798605984b986459a079849805985d9a059c51801985d9a019864598649984b9a0398417e711e6816617e60a610e702661666886612702e61956608e6183668a6956688660466086615e6188604660c6195e6183e6887027156604e6181e6193660261f984d980b87e612e68261f9a4b9a0987e692e602e1f9a4b980b87e692660361f9a49980d87e711e603e1f9c439c0f87e710e68461f99e05ffd1d3ba8e5739bf85b96cf42b0f9390eb420690010000000000000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000002a066a806a06e82801a8806682801a8885e8a812a17a0a20a04a9088891ac01a8425662a01aa42881aa879aa006a12624620a24620662801aa418a2462889c918a84aa0628918aa46288988281284206a46a891a89aa04a24628918a206628898a02aa4628918a206628898a80a10918a246a8918aa06a80284246288198a246a8898a00a12898a2066288198a22620a00aa26288198a2066288988280aa818a2066288198aa06a812a8288198a2066a8898a00eaa06628819aa2262805ac898a2066a8898a026b18a20662a81aa036b20662889882811ac898a2262a15a868ac1ba8e100899091ba86b6c1000a113e0bbbd0f4abbeb3d9a8364f36f2fb3a0f3420690010000000000000000000000000000000000000000000000000000000000000012000000000000000000000000000000000000000000000000000000000000000574114380f87e1fd04386f4926007f41161dd245d0486eed0458774884d041d215b8550550487f48941221548474914114084d0487ee50e43a4d20dd241d24387eed4215413501f4934127407eed0e45d403b941348845241d01fbb4590e154b9405510e5064d05501fbb4d91418549343954134076e1d560d24b95115115381db8743954582e51e4d16e866e5d0e4d0e50e054e50ed0552452e866e5d2e524d0e50e052e3d0552e54e856e388ed0e52e1143d4394014b8f4934b9538611ba7539410e50ed16e3d0eed0e782eedd2250e1343b45b8f41bc607baf40948943a4d06d0450050e9aed4f7b4ef89409411438538654050e9ae18e50f50efb2a32efd0250e50ed0450652e014bc73decaac28efd04394b8650e18e52150e18e18e1af3b4a32a3af43941b863c6541526b86b86bbecaaca8f79ae99500f49ae1ce18ebb0a30a58ca8e7d0e798e994181749ae18e1ce7daac9631228e50e1d2e798e18e13402749ae18e9ce181629229258c48a3d661d04500dd061baf6287258c48abc661a148474186e781628c496496caa39f43c63d413d4738f62ac496496caabd43943c6506d419d47387628cc964b64ca58e3994188506007f45bb628c4b63123164aab0f51e0387f45d8a4d6cb6caab0e5160d87f41c87648764d6414384e1fd371cd6521f87f77801f811991d0ba0e47b9e16e5b3d2aefacfe4cd5f3dba50dcf91e4e83ffe6d8cffcdbcb3cdbcbecfffffff3d9a8364f9ac3ee3d0fb4206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000f88e00a6018e6088600de10ce058b60d886058850b0b8848e891c31503810342069001000000000000000000000000000000000000000000000000000000000000001b000000000000000000000000000000000000000000000000000000000000036000000000000000000000000000000000000000000000000000000000000003c0000000000000000000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000000000000004a0000000000000000000000000000000000000000000000000000000000000054000000000000000000000000000000000000000000000000000000000000005c0000000000000000000000000000000000000000000000000000000000000066000000000000000000000000000000000000000000000000000000000000006e0000000000000000000000000000000000000000000000000000000000000074000000000000000000000000000000000000000000000000000000000000007a0000000000000000000000000000000000000000000000000000000000000084000000000000000000000000000000000000000000000000000000000000008a0000000000000000000000000000000000000000000000000000000000000092000000000000000000000000000000000000000000000000000000000000009c00000000000000000000000000000000000000000000000000000000000000a800000000000000000000000000000000000000000000000000000000000000b800000000000000000000000000000000000000000000000000000000000000c200000000000000000000000000000000000000000000000000000000000000d400000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000ec00000000000000000000000000000000000000000000000000000000000000f8000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001080000000000000000000000000000000000000000000000000000000000000116000000000000000000000000000000000000000000000000000000000000011c000000000000000000000000000000000000000000000000000000000000012a000000000000000000000000000000000000000000000000000000000000013800000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000497e5f8243884382480e50c50364b83e478162301c3040041050031432671e1ea004081442069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000001d8a1b8c178861589613896118a608ee10e6038d6098b617880f8b418e616a1171b2f4001c4206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000297848b909d928d9285948188610898420298912818a61081888a610890838a622039a8908383e610802904e610098801e71064964a8458b8cd12f3e6a44749d09000454545418244206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000007e418107ea90087ea1876a7980da86028e92a0ba8222a3a422c6016a088a8e92c41805aa9286929605aa8ac2a2a980ea24a8a92ae03a862a2b39212a224b3a0a90129660042a68ac404b1803984a80288aa828407662a82a031c19679ec9c59ac3650d4c43315fa1d34202c420690010000000000000000000000000000000000000000000000000000000000000003000000000003b8fe3f806819e419e8006200e819e419e8036819651968036818641851841c883629c479a903e220612e622118a818418518418904e29a4398905e29c41a90268b0659c5b6499761d15fa1d344a4a71d1212b4a41834420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000533b401b12b525b52b20ccc4cca86c49e04e6e49e04cee3004aa4a048ee4904824cc8322928125c042921b1203228148f01922104ca4807c97020a486c4809c86e49049e09cce03a8c192616b1c484ad291171b2f4458b8cd1244b5244e9360d13375a144bcf9a910cc403c420690010000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000166126079849de0947b8041ae418e49c418310619063885184183106190638c41803907106583e7106384e69001c0799c190592a9ffffff47a77b6100045454541044420690010000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000318fe3f8fe018de098de098de098de098de098de098de01894194614b9171b2f4004c4206900100000000000000000000000000000000000000000000000000000000000000020000000000000178a158c13886138861188e11886138861188e0f88e0f88e0f8960b89e098b610be08810b60789e118c1192418c72289562da94005442069001000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000016614612703681ae81062041805a06a06906206204a0622400681060081849829270081a80281012049821081062260081a89201a261261062001a06224806818812608620039802040168398806e85826c5064984ae4cdd6851265d87457e874d142b0f94185c4206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000011e1d94e1197e07884988e4026291e23900b88478864036291e30464f8564780e39064124ae4a4a71d1ffffff40864420690010000000000000000000000000000000000000000000000000000000000000003000000000000000006201e1f8a018c0787e302302e1f89e0b87e2782e1f89e0b87e278261f8ae0587e238023841f89608d63f8062d8fe0988e3f84e20fe17883f8663d87639801f8d6107e318161f8ae139fc19492719150b2a4006c4206900100000000000000000000000000000000000000000000000000000000000000040007e61841f996007e6986e6f84e6191e7036659470049a059ae498640249811ae41983184046806591668866920198e519621926900198649962194710019c498623946390019c418e3146592019a49811a4199e4180398418039be481e418059b6418199b61d9a607b5419a824d90306074458c54115fa1d3410744206900100000000000000000000000000000000000000000000000000000000000000050000000000000000000000387e30061f880086107e3102841f8c400e1f8c400e1f896107e2103041f8840a40061f885021f880102108188001f8a92c198a51882c82819902106216a83e47a0ea20b04641a06226a0062391681a85a8880631221926a36038a48c51a8f80e2022824988288d85e828687981ba8e88482880261fa801c0419072ce1c9f6df465b8ef1187c0a346ab83c51cce8f14207c4206900100000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000461fc80f87e44c0787e42125841fc8423201291287e44884084a0ca24a1bca83084a01ca2486403f342c4a05c821ca481e44a40903121009c848894ae888d100bc864a423a4432e480fcae4c421e6bd284723872992b9684a11cae3cae19a83123120472b8721ae1b0188b1231204f2b8a4c6486a5033284f23aa3929c0d4815caea923c1242cca17caf48f049031286733923c12587f2f841fc9e15d8c19a8ab0114316d45da67951192036468ef3c513a4d8344d67fd1124669b44792ea112882f144084420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000b88e1b88638819886086086081592218e210607906088e019401921f87e1f87e1f87e1f87ea016a856b04aa213a2a80aa06a03681ac81aa0baa81ac8aa0faa8aa028613a86023418c624b97a5eb2473afbb91cebeee269a9a9898668c42208c42069001000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000998e1d9960f9c418e671166826611e3b936601661263b93e0398498f64f981184b8f651980984b8fe519a4d8fe519a4d8fe519a4d8fe519a4d8fe4f980184f8f64f980184f8ee51980984d8ee4f981184d8e6519801984b8e6519801984d8d6519805984d8ce519805984f8be519809984f8a6559809985397e603661465f980d984f97e6046612e5f9815984997e605e61165f9819984397e60766145f98007e6105f98107e6176600e1f9859980787e6156602e1f9851980f87e6136604e1f9a459a1987e6926801f87e6821fe241a0bcb59c6d74f9519cafba190944206900100000000000000000000000000000000000000000000000000000000000000050000198179a059c139c059841a1198418059849a0d9a418059851a099a4980598508611e688498059850841884388498059850841884388498059850841884388498059849884998059c49c518649c019a41a41841a41a498641a11851a51a459851a098497e6006145f9a517e6006145f9801a49851851c51851a0986418641a01a41c41a059c09c11a09a01d0419e6a8c9c7fffffd14242454109c42069001000000000000000000000000000000000000000000000000000000000000000500107e4201204003d9081c8123b9289a8903b9091a89035b442272240b6c3aa4226006a040acba9689a0988b4b7a06046a0bfb003b0b5b1603b0a5b2eab009b26b32a1b00bb2a1b0a1b2b300db0a1b2a1b0b300db2a1b0a1b0ab211b2ab2b30a3215b4ab0ab0a301fb1e087ecaac87eca86c07ec286c801fb2a32107ed01f170679cbb443031f910707f444c317ad1a6d4df4449ea5510404481a8a44206900100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000a0e0787e809690061fa0220e322087e8b8c81856918a22e21a160788601aa3a2a25e21ac09c418e5256b01e620662045a2ea82e9106c20d20c9462817a04306fa2a86ec206b0818c20c188aa1db46b06a0624a001fb46a0620622a821fb463063082c0387ec585ee3064a27c24f1961519ac3ee457e874d14f83ab4499761d16dbaf5428ac42069001000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000005e205e2184e2380650c603942d808016418840c028803641a881a17a8620a048280fa801882a11a8605e8a80997c19269699eab1da47c73fa11c090b34594b95918a4276420bc42069001000000000000000000000000000000000000000000000000000000000000000300000087e418407e41801415946822140990e29208c518c4806408e41c4086418064389e4780649841884f80e418418a479a079a4188459a401e4184188439a0f906292705650849809a5419061ab916f0fc445b43e911198ba410c442069001000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000187e887668466201ba270366a219a221a0b986806680a4180b98212806680a420602660a42219884a407a0292805e890898801e88a42017a04226a007a0a20210884e89081c801e81880a42011a242272007a06222a20fa0672209a06224a20ba8818e882e82a8980e8186a2211a069a88048286a888568a867a80a0a2061da4e0f87eaa21587ea4c41a09a5191c31504713b568f466b0fb9166a0d9420cc42069001000000000000000000000000000000000000000000000000000000000000000200000f940f92294111e23901102f8040c409e5004086408e4806488641826409641816489e481e488e482e48c483643825f0651e620711414e5408d4420690010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000001c65db46a3469966c198c1a8c80c286b1e61b6e632628c84c287306b066b766a8c80ec2a63b2230236e6a8c82662861b023b56728c8366287323356728c84662a630230230232a1b1e6a8c856630a3023b2a32ab16628c86ec28c3aa81a8c7a8c076c2ac1a885a8c3a8c87ec2cc2a85b0a34ab0007ed2c89a8ec841fb760b87ec78671d066a87d27166a0d944d080891000a11453535347ffffff428dc4206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000000000000000001a03baa05a43bac01ac3fac1288a83baa82a02a898a2035aa8180a1a89890ae89a8198a20722624a7a072066aa61a46da166a0aa063a2aba463a0b19e4d99682a028818e4184998418e8280aa818641a49a49a418ea84a22712610619061272c03a889c49a49a4986aa005a889c49986b026a2271a0a83ea226da2a04ea2467a2a066a247241fac818061fac13cf419c7aae10d0d6a4450528511414e547fffffd11414a11a0e442069001000000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000680eea816d0eed006caa3b98d18032b0ee6aac18c29635a96ca2aa0b0aeaa0a1a2ca4aa0afa4a1a2ca06a1a2ea5a4ca883a8682ae83a8ca88d9068baa032a22642064226a300b2a21643a04a16a3001b2a20e43a04a0ec9803b2a20643a04a06c9807b2a20641a04206c980bb2a20641a06a320fb2a236a3213b2aa16a18c866c2c8aac87ec2cd03f250671ea384e4f0c912f694b44c2f9a9134202247fffffd12f694b1a8ec42069001000000000000000000000000000000000000000000000000000000000000000700000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000002200000000000000000000000000000000000000000000000000000000000000360000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000004a0000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000040000000000001e4184e458364b826438a502e418a482e438a4826290e21009886508402631062100b884782e2942120b8850848364188483650a403e5084080d94210210202e4380282643880f94290203650840a0d90e1194303e418c0d94212203e508404650840a0f906303e408502e1068a2e2263e1ea000881542069001000000000000000000000000000000000000000000000000000000000000000400000389e0d8a4388098a4824880988480648262100388485e485e2101788485e2101788405e2101788405e2101790205e40817921990205e4081790205e4081792205e4081790202e28064080988480640809920390201e2100392201e21001922026212092282e21430464184e7068a2fa24910e083212b4a0881d420690010000000000000000000000000000000000000000000000000000000000000009000000000000000000000000001b2fdb40bb4fdb0e300bb2ffb0607b4ebfec81ed39e29b96c38c016cb962fb8ed00ed38e33b8ed006cb9635b8ed04c39637b96c82d38639b96d00d38639b9ec80cb8e3bb96c80cb863db96c38d3863db96c3b863fbcc7b8620feeb1ee18fec3ac7b863fb2e326f0fecfb8c383d98e346e0e66086a0c3bad1c379882a620c1bad18a8e6620a1aeb2eb262c8183198428620a18a38c38e62a8182d9829882a6aae7aa818aa2609662029882a62ae7aa62a81a409e808a9aa1b8603cb1a520c08e620a7bac3a0386a1aa108b26728ee32e02e32eac8336a5bccb80b8d38ecdb9ec1b8138cb7ee316e04e32edfb80008001a28c309212b4a0c5c6cbc32443826ffffffdb2e10386ced5a3db3a4d830b02542069001000000000000000000000000000000000000000000000000000000000000000400000087ea1a13aa6ac0da86ac6a013a0622a04e8ac15aa80815a881817a061015a2405e82817a0a85ea1017a8405e4181790605e885e82815a2a056b056a85ea2017a217a06056818a05682a15aa15ac07aa03a407ac0a881a09a4a582e622b041fb441a28c2892593f10c84ad2832f3e6a0c4a2bac33b568f0a02d420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000016a1a042a13a8810a83ea80808a8366028022036680a02a03622a110a05e81013ac8046a048046680a8462286a013886008066803ea006803ea18090a04660082815aa0a6c1a28a289a37eed0dfd8ed83baa0ee0d792a203cebeee0a0354206900100000000000000000000000000000000000000000000000000000000000000020066287e30762385e298462d83e2f83e25866238662d84e2002d8362802d82e302278363042383e21822184621806204e1f87e1f96c18cb24b18803d4206900100000000000000000000000000000000000000000000000000000000000000040000001e4184e458364b826438a502e418a482e438a4826290e21009886508402631062100b884782e2942120b8850848364188483650a403e5084080d94210210202e4380282643880f94290203650840a0d90e1194303e418c0d94212203e508404650840a0f906303e408502e1068a2e224912d4832040460884542069001000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000000000000000000000000000000000000000001a0000000000000000000000000000000000000000000000000000000000000024000000000000000000000000000000000000000000000000000000000000002e0000000000000000000000000000000000000000000000000000000000000038000000000000000000000000000000000000000000000000000000000000004200000000000000000000000000000000000000000000000000000000000000480000000000000000000000000000000000000000000000000000000000000056000000000000000000000000000000000000000000000000000000000000005e000000000000000000000000000000000000000000000000000000000000006a0000000000000000000000000000000000000000000000000000000000000070000000000000000000000000000000000000000000000000000000000000007a0000000000000000000000000000000000000000000000000000000000000082000000000000000000000000000000000000000000000000000000000000008c000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000001a0387e61824004004036400400402618a40840840b640840840a618045836458061804041f9860387e680600e1f980980387e60461f87e1f87e1f87e1f87e1f87e1f87e1f87e1f87e1f87e1f87e1f87e1fa7c182730e1b7ad9b2e6b0fb8b2040462907642069001000000000000000000000000000000000000000000000000000000000000000400000000000000000000012710e7580e49829461266980e4182943790680e418418851b6408668449848a7026639029a01926920f9962980390e1192690608601650666106180e1f984184980587e70060161f9c01a0387e600680600e1f9a0180987e60060261f9801b3419689ef12e10382c5c6cbcb66b0d9290164206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000010e2184e211e210e0988478847856418a506e488507e4187e2941d8850762921d902141b902141b902921b922121994212199421219942121994012179060121592012012159009009215900120921990112007e487e5076480406e480487e480d106c24dac4a4a71cb2814502881e420690010000000000000000000000000000000000000000000000000000000000000004000000000022f6928600eb12bba2a00ea92b15eb00ea3a0488af8841aa128e498a826a394a806a22a1836b22a12a00e828611ac8a842803a8619a882860387ea3a00587eb008280387ea18a00880e1fa80220280387ea200200987e800a0261fa801b1c19689ef12814502e2909d8b2e10382c5b43e8b171b2f2a0264206900100000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000010239805902190600e612310638069021906782e703668c418440c692814502e8dfbb4b562da92902e420690010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000005a80398a008aa098800a03ea00aa2028628022a82620aa0a02ea00b22a18aa0a18a00620a00a20a02a02a00a00a00a00a22a1aa80628818a1aa20a200280a80286a0a18a182a82a00a1aa988aa0ac01aa9aa82a04a8062a6a0aa2028420a9aa82ea80a988280a88aa422a126056a7a2ad84eb08424a80a1ab076a780b00606ea98ea84a186ea780ea201da88280baa1dac03da419089d012443822f3afbb8be9ded82e6b0fb8b2f3e6a2a036420690010000000000000000000000000000000000000000000000000000000000000003000000000000000004886886618c09a2398609070a0590e6806239a01021828166126902181e418010218218118648a41a21806210692608658266188e49a090e604e619468161f98e0a3418680ef9a37eed2d58b6a4bcebeee2903e42069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000000000001c2780658468841a212e2198e290688419e418c68a49d650c6120980d986508686e69421a1f9840a6001f984086801f90298087e40a087e4841f984821f9a4041f984041f9a0187e60061f980187e6041f906021f98418007e680407e6824021f9a4001f9a010107e6841f9803cc1ac9b4c12929c72dd0fcfcbffffff2904642069001000000000000000000000000000000000000000000000000000000000000000200000000000000007623801f89e1b88e00a4856290200640021201942594039408a489e502e4022b940f900b87e4d060ae434727db7cb96e3bc2884e420690010000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000316818c28c856c798c28ca2d021f90c2cd20007e430620a20622c28c06e430620c08c20007e420620c08c021f90c0ad20087eca0a00e1fb0620a14087ec206300387ec81e1fa0a32ab0652e636450c5b4b24669b2eb38b2d72c250dccb56678f2a8564206900100000000000000000000000000000000000000000000000000000000000000030000000000000000000000000000000000000000000000000000001e602e6016602e218039a058a610600e418018c70166823106906016299641c019a2036600668566185661017981b98c188316911325ee2ffffffcb0d1bb62905e42069001000000000000000000000000000000000000000000000000000000000000000400000000000000011a1e1da061a0621a060ba26206022219c802689a107e8188841fa26200187e8120387e81080061fa060187e81a8041fa2422107e81280061fa0422107e8188841fa0e087e83821fa26206200187e818061fa00200387e800801e1fa0107ec30690cab658669f0bc8ead92dba50dcb2f694b2986642069001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000683e67804184006f906106f804184006982e6184e60b418440c79ad495964b6a6a692906e42069001000000000000000000000000000000000000000000000000000000000000000d00000000000000000000000000000000000000000000000000000000000001a00000000000000000000000000000000000000000000000000000000000000260000000000000000000000000000000000000000000000000000000000000032000000000000000000000000000000000000000000000000000000000000003e000000000000000000000000000000000000000000000000000000000000004c000000000000000000000000000000000000000000000000000000000000006c000000000000000000000000000000000000000000000000000000000000007e000000000000000000000000000000000000000000000000000000000000009200000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000aa00000000000000000000000000000000000000000000000000000000000000b600000000000000000000000000000000000000000000000000000000000000c200000000000000000000000000000000000000000000000000000000000000d40000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000000000000000000000059a0b87e682e1f9a0b87e681e1f8a68261f8860587e2381e1f8860587e238261f982821f9c11a11c199849a01a0984981b9849801a0184981f984986498007e6146946021f984598087e6126607e6136606e614660666191661801f9a5180587e614601e1f984180987e702e1f980d87e6041fbb41820b4f1d45bc3f153c82b75101742069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000011a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e680e1f9a0387e68061f982106021f982146001f98214607e60a41981d98210e607660843981d98210e607660843981f8a518007e608518087e6084180187e6821fbd418e0c0d1b4d4e5563e9ac953c82b75101f42069001000000000000000000000000000000000000000000000000000000000000000542100987e2100987e2100987e2100987e2100987e2100987e2100987e2100987e2100987e2100987e2100987e2100987e2100787e81c0187e62166021fa01180a0087e8046028801fa0118118007e6046046001f98118118007e6046046001f98118118007e60481809a1fa001a00a21fa06048048001fa0120120007e8828048021fa00787f2906282e3a5a9a9a553f3b3554406ced52f3e6a51827420690010000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000139060787e50a480e1f922392087e48a64001f8840ae487633901d88648a6406e239029901b88e40a6406e239227901d88e4096487623902190e1d8c48a4886407e458c418061f902906622107e439868841f9281a81869021fa06a265a21fa072267a01ba06ba061a017a06fa00206a015a06a272272002217a411c91a80061fa07200206a00187e81c80081a80061fa26a00220787e88173f0653edc04002845566a0d954bda52c330be6a0982f42069001000000000000000000000000000000000000000000000000000000000000000f000000000000000000000000000000000000000000000000118be1f886a9886158d00842ae40860db2240f10ab90e42282ec08e390ab910bb002ec40e80e90ab9103d002ec38f010a790a1105826c1aec24296892f4409b273a428e4a04b90bb0026630640710a5a0420442f400998c38e429e428440e3826630e392a990e5c00798c1cf10a9910bd081e630e9aec0a792ec06e01e630e427404ac53d01b807b0e1c2640e10ef42f4207b0e9b03b01b8f0b970016c406b9f1390ba70016c1aedc06e9c005b063a713d13871016c1ae5c2e7c16e4005b063bb0baf01bb001e6390986e9c4ec2e4007b0f1d01b8f038f0826c38738f13845bd0026c1aebc0420b2043d0026c18e9c4428e4b90826cb971384a964440bb303a6c0e1908ac840ec00db301b038e41c0440ec00f90cbb138f1390b9003651ae1c2ec2e1c40d90a1b966b9f003e4280b067c4e1c011aa0b463970bb00468a801b4e5c0e4017a805b10b87080e1fd1f2821fd52d525128774c8f4cb4cc19d121d121d1250e1dd323d12821fd32d1251201448007f44c05120120144a1fd12052812034c8107f4480ca0d00187f4480d120461fca0f87f4026038a069418c04bda52d530be6a54ed5a3d566a0d954f0a1155fcdbcb54e4f0c95313966561dfa1151c3150548374206900100000000000000000000000000000000000000000000000000000000000000080000000000002640461f920f87e50361f88e0987e292202e1f8960987e21428261f88e0b901b8a488059061d8a480648c487e484488e407e50040a48c487e508438c406e50c40c40c405e508e48a40c4046508650a438a401e4388640a4084086408488401640ae40a408408641884016489e48a50b64016408640a50ae48c401650c40840848965086401e40c40a4086508648864016488408e4189e4086401e40864084884388648c4816408640a508640c50c401e40c40c40840a48a4886501640c40c50ae4180401e3142f9411902902122794179221227941d922794087e408e50061f903140787e503e1f90007ff9061c11c075ffffff5083f4206900100000000000000000000000000000000000000000000000000000000000000090000000000000000000000000000000000000000000000000000000000a11ec056a080080080084056a08008008008484ea08008008018c1013a8200200600600c04ea0800800801803013a8200200200600c04ea0800800801803013a8200200200200c04ea0800800800801013a8200200600200404ea0800801800801013a8200200600600404ea0800801801801013a8200200600600404ea0800800801801013a8200200200600404ea0801801801803013a820020020023213a820020020043015a8200200600c05ea08018018c85ea08018018c066a08008010c066a080180301ba86008321ba86204301da8620c07ea22c07ea32007ea30087e022a06882fae4bcf9a95212b4a54910e095aae0f154e9360d5ffffff528474206900100000000000000000000000000000000000000000000000000000000000000060000000000000000000000000000004c985621a6c04621b611b073067300fb06b2ab27300bb0730a1b07300bb0732ab27300bb0710c1986c02ec9a4b261b20db0692c986c03ec984b273211b24b2688c056c12c9a205ec1843268817b0610c9ac05ec184326b017b0610c9ac05ec084326308066c3a01fb2087ec821fb2087ec821fb2087ec821fb2087ec801fb0ab0007ea801fb0ab0007ea801fb0ab0007ec85f4d067830ae4a051415d4bcf9a956dbaf5550ac3e55150b2a5284f4206900100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000001da4107e9041f928041f8a4821f922821fa05021fa4107e9041fa41da36a05681aea05681aea056818eb18a05681882a62862862815a062062872862815a062c62c62815a06ba815a0ada94186b24c9150b2a57530be6a550ac3e552665ac5205742069001000000000000000000000000000000000000000000000000000000000000000500000000000000000000000000000000110e087e409e407e2b901b902d9019902d901990219023901990314219019903142190199031421901b8b61d9829901f982590087e60864041f902190107e408640061f982900387e618161f9a0787e681e1f9a0787e681e1f9a0787e681e1f9a0787e68161f906900587e681e1f9a0587e4184180587e6821fbc41860bce1212b4a545c6cbd52929c75105f4206900100000000000000000000000000000000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000001e4d87e418ae4384648ee483648fe0d9030fe0b9030fe0b9023923782e409648ce0d9027942f83640a64189e139029900116284e40a64016485648a64041f9027906087e4096488507e489648a4001f922590290087e48a640061f9025920387e48a482e1f940987e1f87e1f87e1f87e1f87edd06082d407566a0d950867420690010000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000158a402e1f8a50261f8848a0987e210282e1f88418261f8a418165181b8a50065184981b8a50249864181d8c408498e418007e310602692107e212c0361f906340787e498c18161f906b2a00c00e1f90602c2a0300187e4180b2ab2107e418134a300987ed28c8261fb0e0987ed28c02e1fb28320987ed28c0261fb4a320987eca8c8261fb0828c8261fb0828c8261fb0828c8261fb08340987ec20a3080261fb08340987ec20d0261fb0a340987ec28c82e1fb0a320b87ec18261fb0a320b87ec28c82e1fb20d87ec8361fb20f87ec01fbb065c14c06deb66d5ffffff561dfa11566a0d954ed5a3d51c31505286f42069001000000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000218662585627856818a15a0e15906684e51849a11928985180f9081889a4180fa0610818890603e6126106604e620419813916604e500420604e4980108181192602420604649809081811906048876804eb5062829a863f0f9552e6081559ac365587c0a35187f42069001';\n}\n"
    },
    "src/_mock/MockDotnuggV1Implementer.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1} from './../interfaces/IDotnuggV1.sol';\nimport {IDotnuggV1Implementer} from './../interfaces/IDotnuggV1Implementer.sol';\nimport {IDotnuggV1Metadata} from './../interfaces/IDotnuggV1Metadata.sol';\nimport {GeneratedDotnuggV1LocalUploader} from '../_generated/GeneratedDotnuggV1LocalUploader.sol';\n\ncontract MockDotnuggV1Implementer is IDotnuggV1Implementer, GeneratedDotnuggV1LocalUploader {\n    IDotnuggV1 p;\n\n    function dotnuggV1Callback(uint256 tokenId) external view override returns (IDotnuggV1Metadata.Memory memory data) {\n        data.name = 'name';\n        data.desc = 'desc';\n        data.version = 1;\n        data.tokenId = tokenId;\n        data.owner = address(0);\n\n        data.ids = new uint8[](8);\n\n        data.labels = new string[](8);\n\n        data.labels[0] = 'BASE';\n        data.labels[1] = 'EYES';\n        data.labels[2] = 'MOUTH';\n        data.labels[3] = 'HAIR';\n        data.labels[4] = 'HAT';\n        data.labels[5] = 'BACK';\n        data.labels[6] = 'NECK';\n        data.labels[7] = 'HOLD';\n\n        // data.ids[0] = 3;\n        //\n        // for (uint8 i = 1; i < 8; i++) {\n        // uint8 items = p.totalStoredFiles(address(this), i);\n        // if (items > tokenId) {\n        // data.ids[i] = uint8(tokenId);\n        // break;\n        // } else {\n        // tokenId -= items;\n        // }\n        // }\n\n        data.ids = dotnuggV1CallbackHelper(tokenId, address(p), 3);\n    }\n\n    function dotnuggV1StoreFiles(uint256[][] calldata data, uint8 feature) external override {\n        p.store(feature, data);\n    }\n\n    constructor(IDotnuggV1 processor) GeneratedDotnuggV1LocalUploader(address(processor)) {\n        p = processor;\n    }\n}\n"
    },
    "src/interfaces/IDotnuggV1.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1Metadata} from './IDotnuggV1Metadata.sol';\nimport {IDotnuggV1Resolver} from './IDotnuggV1Resolver.sol';\nimport {IDotnuggV1Storage} from './IDotnuggV1Storage.sol';\n\ninterface IDotnuggV1 is IDotnuggV1Resolver, IDotnuggV1Storage {\n    function process(\n        address implementer,\n        uint256 tokenId,\n        uint8 width\n    ) external view returns (uint256[] memory file, IDotnuggV1Metadata.Memory memory dat);\n\n    function dotnuggToBytes(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view returns (address resolvedBy, bytes memory res);\n\n    function dotnuggToRaw(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view returns (address resolvedBy, uint256[] memory res);\n\n    function dotnuggToMetadata(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view returns (address resolvedBy, IDotnuggV1Metadata.Memory memory res);\n\n    function dotnuggToString(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view returns (address resolvedBy, string memory res);\n\n    function dotnuggToUri(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view returns (address resolvedBy, string memory res);\n}\n"
    },
    "src/interfaces/IDotnuggV1Implementer.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1Metadata} from './IDotnuggV1Metadata.sol';\n\ninterface IDotnuggV1Implementer {\n    function dotnuggV1Callback(uint256 tokenId) external view returns (IDotnuggV1Metadata.Memory memory data);\n\n    function dotnuggV1StoreFiles(uint256[][] calldata data, uint8 feature) external;\n}\n"
    },
    "src/interfaces/IDotnuggV1Metadata.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\ninterface IDotnuggV1Metadata {\n    struct Memory {\n        uint256 version;\n        uint256 renderedAt;\n        string name;\n        string desc;\n        address owner;\n        uint256 tokenId;\n        uint8[] ids;\n        uint8[] xovers;\n        uint8[] yovers;\n        string[] labels;\n        bytes data;\n    }\n}\n"
    },
    "src/interfaces/IDotnuggV1Resolver.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1Metadata} from './IDotnuggV1Metadata.sol';\n\ninterface IDotnuggV1Resolver {\n    function resolveBytes(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) external view returns (bytes memory res);\n\n    function resolveRaw(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) external view returns (uint256[] memory res);\n\n    function resolveMetadata(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) external view returns (IDotnuggV1Metadata.Memory memory res);\n\n    function resolveString(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) external view returns (string memory res);\n\n    function resolveUri(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) external view returns (string memory res);\n}\n"
    },
    "src/interfaces/IDotnuggV1Storage.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\ninterface IDotnuggV1Storage {\n    function stored(address implementer, uint8 feature) external view returns (uint8);\n\n    function store(uint8 feature, uint256[][] calldata data) external returns (uint8 amount);\n\n    function unsafeBulkStore(uint256[][][] calldata data) external;\n}\n"
    },
    "src/_test/general/MockImplementer.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\nimport {IDotnuggV1Implementer} from '../../interfaces/IDotnuggV1Implementer.sol';\nimport {MockDotnuggV1Implementer} from '../../_mock/MockDotnuggV1Implementer.sol';\n\nimport {UserTarget} from '../utils/User.sol';\n\nimport {BigMatrix0} from '../objects/BigMatrix0.sol';\n\ncontract MockImplementerTest is DotnuggV1Test {\n    using UserTarget for address;\n\n    function setUp() public {\n        reset();\n    }\n\n    function test__MockImplementer__processorReceivedFiles__pass() public {\n        IDotnuggV1Implementer impl = new MockDotnuggV1Implementer(processor);\n\n        for (uint8 i = 0; i < 8; i++) {\n            uint8 res = processor.stored(address(impl), i);\n            emit log_named_uint('[i]', res);\n            assertTrue(res > 0);\n        }\n        //76\n\n        for (uint256 i = 0; i < 250; i++) {\n            (, string memory res) = processor.dotnuggToString(address(impl), i, address(processor), 63, 10);\n            emit log_string(res);\n        }\n    }\n}\n"
    },
    "src/_test/DotnuggV1Test.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DSTestExtended as t} from './utils/DSTestExtended.sol';\n\nimport {User} from './utils/User.sol';\n\nimport {MockDotnuggV1Implementer} from '../_mock/MockDotnuggV1Implementer.sol';\n\nimport {DotnuggV1} from '../DotnuggV1.sol';\n\nlibrary SafeCast {\n    function safeI192(uint96 input) internal pure returns (int192) {\n        return (int192(int256(uint256(input))));\n    }\n}\n\ncontract DotnuggV1Test is t {\n    using SafeCast for uint96;\n    using SafeCast for uint256;\n    using SafeCast for uint64;\n\n    DotnuggV1 public processor;\n\n    address public _processor;\n\n    MockDotnuggV1Implementer public implementer;\n\n    address public _implementer;\n\n    User public safe;\n\n    User public frank;\n    User public charlie;\n    User public dennis;\n    User public mac;\n    User public dee;\n\n    User public any;\n\n    constructor() {}\n\n    function reset() public {\n        fvm.roll(1);\n        fvm.roll(2);\n        processor = new DotnuggV1();\n\n        _processor = address(processor);\n\n        implementer = new MockDotnuggV1Implementer(processor);\n\n        _implementer = address(implementer);\n\n        assertTrue(processor.stored(_implementer, 0) > 0);\n\n        safe = new User{value: 1000 ether}();\n        frank = new User{value: 1000 ether}();\n        charlie = new User{value: 1000 ether}();\n        dennis = new User{value: 1000 ether}();\n        mac = new User{value: 1000 ether}();\n        dee = new User{value: 1000 ether}();\n\n        any = new User();\n    }\n\n    /* \n                                eth modifiers\n        */\n\n    /* \n                                encodeWithSelector\n        */\n\n    function dotnuggV1StoreFiles(uint256[][] memory files, uint8 feature) public view returns (bytes memory res) {\n        return abi.encodeWithSelector(implementer.dotnuggV1StoreFiles.selector, files, feature);\n    }\n\n    function take(int256 percent, int256 value) internal pure returns (int256) {\n        return (value * percent) / 100;\n    }\n}\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): 36422938319266817\n//   nuggft.protocolEth(): 13721927850988207037\n//   nuggft.stakedEth(): 254960568234867720007\n//   nuggft.stakedShares(): 7000\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): .220269870602728762\n//   nuggft.protocolEth(): 105.652900187038601090\n//   nuggft.stakedEth(): 3524.317929643660202576\n//   nuggft.stakedShares(): 16000\n\n// Success: test__system1()\n// *10\n//   users length: 2000\n//   nuggft.ethPerShare():  .081046931383505748\n//   nuggft.protocolEth(): 36.036371675422002761\n//   nuggft.stakedEth():  891.516245218563229016\n//   nuggft.stakedShares(): 11000\n\n//   users length: 2000\n//   nuggft.ethPerShare():   .009923420616251655\n//   nuggft.protocolEth():  10.797105517187750828\n//   nuggft.stakedEth():   109.157626778768205405\n//   nuggft.stakedShares(): 11000\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): .023820112972809680\n//   nuggft.protocolEth(): 23.605706549631210195\n//   nuggft.stakedEth(): 262.021242700906482643\n//   nuggft.stakedShares(): 11000\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): 22283800801842573\n//   nuggft.protocolEth(): 12045486919914902312\n//   nuggft.stakedEth(): 133702804811055442627\n//   nuggft.stakedShares(): 6000\n\n//   users length: 2000\n//   nuggft.ethPerShare(): 1.124042581556443270\n//   nuggft.protocolEth(): 658.232592803322633239\n//   nuggft.stakedEth(): 7306.276780116881258328\n//   nuggft.stakedShares(): 6500\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): .179846813049030914\n//   nuggft.protocolEth(): 105317214848531614175\n//   nuggft.stakedEth(): 1169004284818700946598\n//   nuggft.stakedShares(): 6500\n\n// .092595956292375926\n\n// .101719406217199627\n\n// Success: test__system1()\n\n//   users length: 2000\n//   nuggft.ethPerShare(): .178270406414740660\n//   nuggft.protocolEth(): 96363895359319273644\n//   nuggft.stakedEth(): 1069622438488443964472\n//   nuggft.stakedShares(): 6000\n\n// Success: test__system1()\n\n//   users length: 1000\n//   nuggft.ethPerShare():   1.425741271002990526\n//   nuggft.protocolEth():  305.518843786355111578\n//   nuggft.stakedEth():   4277.223813008971579744\n//   nuggft.stakedShares(): 3000\n"
    },
    "src/_test/utils/User.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {ForgeVm} from './Vm.sol';\n\nlibrary UserTarget {\n    function shouldPass(\n        address target,\n        User user,\n        bytes memory args\n    ) internal {\n        shouldPass(target, user, args, 0);\n    }\n\n    function shouldPass(\n        address target,\n        User user,\n        bytes memory args,\n        uint96 eth\n    ) internal {\n        user.call(target, args, eth);\n    }\n\n    function shouldFail(\n        address target,\n        string memory message,\n        User user,\n        bytes memory args\n    ) internal {\n        shouldFail(target, message, user, args, 0);\n    }\n\n    function shouldFail(\n        address target,\n        string memory message,\n        User user,\n        bytes memory args,\n        uint96 eth\n    ) internal {\n        user.revertCall(target, message, args, eth);\n    }\n}\n\ncontract User {\n    fallback() external payable {}\n\n    receive() external payable {}\n\n    constructor() payable {}\n\n    function tryCall(address target, bytes memory data) public payable virtual returns (bool success, bytes memory returnData) {\n        (success, returnData) = target.call{value: msg.value}(data);\n    }\n\n    function call(\n        address target,\n        bytes memory data,\n        uint256 eth\n    ) public payable virtual returns (bytes memory returnData) {\n        bool success;\n        (success, returnData) = target.call{value: eth}(data);\n\n        if (!success) {\n            if (returnData.length > 0) {\n                assembly {\n                    let returnDataSize := mload(returnData)\n                    revert(add(32, returnData), returnDataSize)\n                }\n            } else {\n                revert('REVERTED_WITHOUT_MESSAGE');\n            }\n        }\n    }\n\n    function revertCall(\n        address target,\n        string memory message,\n        bytes memory data,\n        uint256 eth\n    ) public payable virtual {\n        (bool callSuccess, bytes memory returnData) = target.call{value: eth}(data);\n\n        require(!callSuccess, 'REVERT-CALL SUCCEEDED');\n\n        string memory revertReason = string(extractRevertReason(returnData));\n\n        if (!compareStrings(revertReason, message)) {\n            revert(string(abi.encodePacked('UNEXPECTED REVERT: ', revertReason, ' EXPECTED: ', message)));\n        }\n    }\n\n    function extractRevertReason(bytes memory revertData) internal pure returns (string memory reason) {\n        uint256 l = revertData.length;\n        if (l < 68) return '';\n        uint256 t;\n        assembly {\n            revertData := add(revertData, 4)\n            t := mload(revertData) // Save the content of the length slot\n            mstore(revertData, sub(l, 4)) // Set proper length\n        }\n        reason = abi.decode(revertData, (string));\n        assembly {\n            mstore(revertData, t) // Restore the content of the length slot\n        }\n    }\n\n    function compareStrings(string memory a, string memory b) public pure returns (bool) {\n        return (keccak256(abi.encodePacked((a))) == keccak256(abi.encodePacked((b))));\n    }\n}\n"
    },
    "src/_test/objects/BigMatrix0.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\ncontract BigMatrix0 {\n    uint256[] public rows;\n\n    uint256 public data = 0x29800000000000000000000000000000000000000007ff8000000000000000;\n    uint256 public beforeData = 0x00000000000000000000000000000000000000000007ff8000000000000000;\n\n    function get() external view returns (uint256[] memory) {\n        return rows;\n    }\n\n    function getDecompressed() external returns (uint256[] memory res) {\n        uint256[] memory tmp = rows;\n\n        rows.push(data);\n\n        res = rows;\n\n        rows = tmp;\n    }\n\n    constructor() payable {\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf000000000000000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x02684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fc0000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf000000000000000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x02684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fc0000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf000000000000000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x02684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fc0000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf000000000000000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x02684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fc0000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x02684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fc0000000000000000000000000000000);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf9a125e362fe684978d8bf9a125e362fe684978d8bf);\n        rows.push(0x09a125e362fe684978d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dc0000000000000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dc0000000000000000000000000000000000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807fff92dde01fffe4b7);\n        rows.push(0x01e01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b7000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fffe4b77807f9e02dde01fe780b7);\n        rows.push(0x7807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dc0000000000000000000000000000000000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807fff92dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fffe4b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fffe4b7000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dde01fe780b7);\n        rows.push(0x07807f9e02dde01fffe4b77807f9e02dde01fffe4b77807f9e02dde01fe780b7);\n        rows.push(0x01e01fe780b77807f9e02dde01fffe4b77807f9e02dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807fff92dde01fe780b7000000000000000000000000000000000000000000);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f39e85de01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b71203f36085de01fe780b71203e93e6bc480d4258f7);\n        rows.push(0x07807fff92dde01fe780b77807f9e02dc480d4258f77807fff92dde01fe780b7);\n        rows.push(0x07807f9e02dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b77807f9e02dde01fe780b77807f9e02dc0000000000);\n        rows.push(0x01203e93e6bc480fa4f9af1203f36085c480fcd82177807f9e02dcd0c8000007);\n        rows.push(0x03432000001cd0c80000071203f36085c480f8c992f1203f36085c480fa4f9af);\n        rows.push(0x01e01fffe4b77807f9e02dde01fffe4b77807f9e02dcd0c8000007);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b7000000000000000000000000000000000000000000);\n        rows.push(0x03432000001cd0cfffffff3432000001de01fce7a177807f9e02dde01fe780b7);\n        rows.push(0x01203e93e6bc480fa4f9af1203f36085c480fa4f9af1203f36085cd0c8000007);\n        rows.push(0x07807f9e02dde01fe780b73432000001cd0cfffffff3432000001cd0c8000007);\n        rows.push(0x07807fff92dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f39e85de01fe780b77807f9e02dde01fe780b77807f9e02dc0000000000);\n        rows.push(0x01203f36085cd0c80000073432000001cd0cfffffff3433ffffffcd0c8000007);\n        rows.push(0x03433ffffffcd0cfffffff3432000001c480fcd82171203f36085c480fa4f9af);\n        rows.push(0x01e01fffe4b77807f9e02dde01fe780b71203e3264bcd0c8000007);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b7000000000000000000000000000000000000000000);\n        rows.push(0x03433ffffffcd0cfffffff3432000001c480d4258f77807f9e02dde01fe780b7);\n        rows.push(0x03432000001c480fcd82171203f36085cd0c80000073432000001cd0cfffffff);\n        rows.push(0x07807f9e02dc480fcd82173432000001cd0cfffffff3433ffffffcd0cfffffff);\n        rows.push(0x07807fff92dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fffe4b77807f9e02dde01fffe4b77807f9e02dc0000000000);\n        rows.push(0x03432000001cd0cfffffff3433ffffffcd0c80000073432000001cd0c8000007);\n        rows.push(0x03433ffffffcd0c80000073432000001cd0c80000071203f36085c480fcd8217);\n        rows.push(0x01e01fffe4b77807f9e02dc480fcd82171203e3264bcd0c8000007);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b7000000000000000000000000000000000000000000);\n        rows.push(0x03432000001cd0c80000073432000001de01fe780b77807f9e02dde01fce7a17);\n        rows.push(0x03432000001c480fcd82171203f36085cd0c80000073432000001cd0c8000007);\n        rows.push(0x01203f36085c480fcd82173432000001cd0c80000073432000001cd0c8000007);\n        rows.push(0x2c03178d8bf7807fff92dde01fe780b7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fffe4b77807f9e02dde01fe780b77807fff92dc0000000000);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480f8c992f);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fde01fffe4b77807f9e02dde01fffe4b71203f36085c480fcd8217);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807fff92dde01fffe4b7000000000000000000000000000000000000000000);\n        rows.push(0x01203f36085c480fcd82171203f36085de01fffe4b77807f9e02dde01fe780b7);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x07807f39e85c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x2c03178d8bf7807fff92dde01fce7a17);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fe780b77807fff92dde01fffe4b7000000000000000000000);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fde01fffe4b77807fff92dde01fce7a177807fff92dc480fcd8217);\n        rows.push(0x02c03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203f36085c480fcd82171203f36085de01fce7a177807fff92dde01fffe4b7);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x07807f9e02dc480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bf12031eac77de01fce7a17);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dde01fffe4b7000000000000000000000000000000000000000000);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480f8c992f);\n        rows.push(0x01203f36085c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fc480c7ab1df7807f39e85de01fce7a171203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203f36085c480f8c992f7807f39e85de01fce7a177807f9e02dc0000000000);\n        rows.push(0x0540ddd7d9dd503775f677540ddd7d9dc480fcd82171203f36085c480fcd8217);\n        rows.push(0x07807f39e85de01fce7a171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bf120358ca4dc480d4258f7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dc0000000000000000000000000000000000000000000000000000);\n        rows.push(0x0540ddd7d9dc480fcd82171203f36085c480f8c992f1203f36085de01fce7a17);\n        rows.push(0x01203f36085c480fcd8217540ddd7d9dd5035496ab7540d525aadd5035496ab7);\n        rows.push(0x0b00c5e362fec03178d8bf120358ca4dc480d6329371203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203f36085c480f8c992f7807f39e85de01fe780b7000000000000000000000);\n        rows.push(0x01203f36085d503775f6771203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x01203b8fca2c480fcd82171203f36085c480fcd82171203f36085c480fcd8217);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bfb00c5e362fc480d4258f7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x07807f9e02dc0000000000000000000000000000000000000000000000000000);\n        rows.push(0x01203e3264bc480fcd82171203f36085c480f761cd77807f39e85de01fce7a17);\n        rows.push(0x01203f36085c480fcd82171203e93e6bc480f8c992f1203f36085c480fcd8217);\n        rows.push(0x0b00c5e362fec03178d8bf120358ca4dc480c7ab1df120350963dc480ee3f28b);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203e3264bc480ee3f28b120350963dec03178d8bf000000000000000000000);\n        rows.push(0x01203f36085c480f8c992f1203e93e6bc480fcd82171203f36085c480f8c992f);\n        rows.push(0x012031eac77c480d6329371203e3264bc480fcd82171203e3264bc480f5c5097);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203f36085c480f8c992f1203f36085c480ee3f28b120358ca4dc480fcd8217);\n        rows.push(0x01203e3264bc480f5c50971203f36085c480fa4f9af1203e93e6bc480fcd8217);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bf120358ca4dc480fcd8217);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203b8fca2c480fcd8217b00c5e362fc0000000000000000000000000000000);\n        rows.push(0x01203e3264bc480fa4f9af1203e93e6bc480fcd82171203f36085c480f5c5097);\n        rows.push(0x0b00c5e362fc480d6329371203d71425c480d4258f71203d71425c480fcd8217);\n        rows.push(0xb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x01203f36085c480d6329371203d71425c480d4258f7b00c5e362fec03178d8bf);\n        rows.push(0x0120358ca4dc480d6329371203d71425c480f5c50971203f36085c480fa4f9af);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fc480d4258f7);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bf000000000000000000000000000000000000000000);\n        rows.push(0x0120350963dc480d632937120350963dc480d632937120350963dc480d4258f7);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fc480d4258f7120350963dc480d4258f7);\n        rows.push(0x2c03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fc0000000000);\n        rows.push(0x02c03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fc0000000000);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fc0000000000000000000000000000000000000000000000000000);\n        rows.push(0xb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bf000000000000000000000000000000000000000000);\n        rows.push(0x2c03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bf000000000000000000000);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fc0000000000000000000000000000000);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0xb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fc0000000000000000000000000000000);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x02c03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x2c03178d8bfb00c5e362fec03178d8bf);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bf000000000000000000000);\n        rows.push(0x02c03178d8bf);\n        rows.push(0x0b00c5e362fec03178d8bfb00c5e362fec03178d8bf000000000000000000000);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n        rows.push(0x00);\n    }\n}\n"
    },
    "src/_test/utils/DSTestExtended.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DSTest} from '../../../lib/ds-test/src/test.sol';\n\nimport {Hevm, ForgeVm} from './Vm.sol';\n\ncontract DSTestExtended is DSTest {\n    Hevm internal constant hevm = Hevm(HEVM_ADDRESS);\n\n    ForgeVm internal constant fvm = ForgeVm(HEVM_ADDRESS);\n\n    address internal constant DEAD_ADDRESS = 0xDeaDbeefdEAdbeefdEadbEEFdeadbeEFdEaDbeeF;\n\n    modifier changeInBalance96(address target, int192 change) {\n        int192 before_staked = safeU96toI192(target.balance);\n        _;\n        int192 after_staked = safeU96toI192(target.balance);\n\n        assertEq(after_staked - before_staked, change, 'user balance did not change');\n    }\n\n    function safeU96toI192(uint256 input) internal pure returns (int192) {\n        require(input <= type(uint96).max);\n        return (int192(int256(input)));\n    }\n\n    function u256toI192(uint96 input) internal pure returns (int192) {\n        return (int192(int256(uint256(input))));\n    }\n\n    bytes32 checkpointLabel;\n    uint256 private checkpointGasLeft;\n\n    function startMeasuringGas(bytes32 label) internal virtual {\n        checkpointLabel = label;\n        checkpointGasLeft = gasleft();\n    }\n\n    function stopMeasuringGas() internal virtual {\n        uint256 checkpointGasLeft2 = gasleft();\n\n        bytes32 label = checkpointLabel;\n\n        emit log_named_uint(string(abi.encodePacked(label, ' Gas')), checkpointGasLeft - checkpointGasLeft2 - 22134);\n    }\n\n    function fail(bytes32 err) internal virtual {\n        emit log_named_string('Error', string(abi.encodePacked(err)));\n        fail();\n    }\n\n    function assertFalse(bool data) internal virtual {\n        assertTrue(!data);\n    }\n\n    function assertBytesEq(bytes memory a, bytes memory b) internal virtual {\n        if (keccak256(a) != keccak256(b)) {\n            emit log('Error: a == b not satisfied [bytes]');\n            emit log_named_bytes('  Expected', b);\n            emit log_named_bytes('    Actual', a);\n            fail();\n        }\n    }\n\n    function assertArrayEq(uint256[] memory a, uint256[] memory b) internal virtual {\n        if (a.length != b.length) {\n            emit log('Error: a == b not satisfied [uint256[]]');\n            emit log_named_uint('  Expected length', b.length);\n            emit log_named_uint('    Actual length', a.length);\n            fail();\n            return;\n        }\n\n        bool ok = true;\n        for (uint256 i = 0; i < a.length; i++) {\n            if (a[i] != b[i]) {\n                ok = false;\n                emit log_named_uint('Error: a == b not satisfied [bytes256[i]]: i = ', i);\n                emit log_named_bytes32('  Expected', bytes32(b[i]));\n                emit log_named_bytes32('    Actual', bytes32(a[i]));\n            }\n        }\n\n        if (!ok) fail();\n    }\n}\n\ncontract DSInvariantTest {\n    address[] private targets;\n\n    function targetContracts() public view virtual returns (address[] memory) {\n        require(targets.length > 0, 'NO_TARGET_CONTRACTS');\n\n        return targets;\n    }\n\n    function addTargetContract(address newTargetContract) internal virtual {\n        targets.push(newTargetContract);\n    }\n}\n"
    },
    "src/DotnuggV1.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1} from './interfaces/IDotnuggV1.sol';\nimport {IDotnuggV1Metadata} from './interfaces/IDotnuggV1Metadata.sol';\nimport {IDotnuggV1Resolver} from './interfaces/IDotnuggV1Resolver.sol';\nimport {IDotnuggV1Implementer} from './interfaces/IDotnuggV1Implementer.sol';\n\nimport {DotnuggV1Storage} from './core/DotnuggV1Storage.sol';\nimport {DotnuggV1Lib} from './core/DotnuggV1Lib.sol';\n\n/// @title dotnugg V1 - onchain encoder/decoder protocol for dotnugg files\n/// @author nugg.xyz - danny7even & dub6ix\n/// @notice yoU CAN'T HaVe ImAgES oN THe BlOCkcHAIn\n/// @dev hold my margarita\ncontract DotnuggV1 is IDotnuggV1, DotnuggV1Storage {\n    DotnuggV1Lib public lib;\n\n    constructor() {\n        lib = new DotnuggV1Lib();\n    }\n\n    /* \n                                     core\n        */\n\n    function process(\n        address implementer,\n        uint256 tokenId,\n        uint8 width\n    ) public view override returns (uint256[] memory resp, IDotnuggV1Metadata.Memory memory data) {\n        data = IDotnuggV1Implementer(implementer).dotnuggV1Callback(tokenId);\n\n        uint256[][] memory files = getBatchFiles(implementer, data.ids);\n\n        resp = lib.processCore(files, data, width);\n    }\n\n    /* \n                                processors\n        */\n\n    function dotnuggToUri(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view override returns (address resolvedBy, string memory res) {\n        (uint256[] memory file, IDotnuggV1Metadata.Memory memory data) = process(implementer, tokenId, width);\n\n        if (resolver != address(0)) {\n            try IDotnuggV1Resolver(resolver).resolveUri(file, data, zoom) returns (string memory d) {\n                return (resolver, d);\n            } catch (bytes memory) {}\n        }\n\n        return (address(this), resolveUri(file, data, zoom));\n    }\n\n    function dotnuggToRaw(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view override returns (address resolvedBy, uint256[] memory res) {\n        (uint256[] memory file, IDotnuggV1Metadata.Memory memory data) = process(implementer, tokenId, width);\n\n        if (resolver != address(0)) {\n            try IDotnuggV1Resolver(resolver).resolveRaw(file, data, zoom) returns (uint256[] memory d) {\n                return (resolver, d);\n            } catch (bytes memory) {}\n        }\n\n        return (address(this), resolveRaw(file, data, zoom));\n    }\n\n    function dotnuggToBytes(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view override returns (address resolvedBy, bytes memory res) {\n        (uint256[] memory file, IDotnuggV1Metadata.Memory memory data) = process(implementer, tokenId, width);\n\n        if (resolver != address(0)) {\n            try IDotnuggV1Resolver(resolver).resolveBytes(file, data, zoom) returns (bytes memory d) {\n                return (resolver, d);\n            } catch (bytes memory) {}\n        }\n\n        return (address(this), resolveBytes(file, data, zoom));\n    }\n\n    function dotnuggToString(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view override returns (address resolvedBy, string memory res) {\n        (uint256[] memory file, IDotnuggV1Metadata.Memory memory data) = process(implementer, tokenId, width);\n\n        if (resolver != address(0)) {\n            try IDotnuggV1Resolver(resolver).resolveString(file, data, zoom) returns (string memory d) {\n                return (resolver, d);\n            } catch (bytes memory) {}\n        }\n\n        return (address(this), resolveString(file, data, zoom));\n    }\n\n    function dotnuggToMetadata(\n        address implementer,\n        uint256 tokenId,\n        address resolver,\n        uint8 width,\n        uint8 zoom\n    ) external view override returns (address resolvedBy, IDotnuggV1Metadata.Memory memory res) {\n        (uint256[] memory file, IDotnuggV1Metadata.Memory memory data) = process(implementer, tokenId, width);\n\n        if (resolver != address(0)) {\n            try IDotnuggV1Resolver(resolver).resolveMetadata(file, data, zoom) returns (IDotnuggV1Metadata.Memory memory d) {\n                return (resolver, d);\n            } catch (bytes memory) {}\n        }\n\n        return (address(this), resolveMetadata(file, data, zoom));\n    }\n\n    /* \n                              default resolvers\n        */\n\n    function resolveRaw(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory,\n        uint8\n    ) public pure override returns (uint256[] memory res) {\n        res = file;\n    }\n\n    function resolveBytes(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8\n    ) public pure override returns (bytes memory res) {\n        res = abi.encode(file, data);\n    }\n\n    function resolveMetadata(\n        uint256[] memory,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8\n    ) public pure override returns (IDotnuggV1Metadata.Memory memory res) {\n        res = data;\n    }\n\n    function resolveString(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) public view override returns (string memory) {\n        bytes memory working = lib.buildSvg(data, file, zoom);\n\n        return string(lib.svgUtf8(working));\n    }\n\n    function resolveUri(\n        uint256[] memory file,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 zoom\n    ) public view override returns (string memory res) {\n        res = string(\n            lib.jsonBase64(\n                abi.encodePacked(\n                    '{\"name\":\"',\n                    data.name,\n                    '\",\"description\":\"',\n                    data.desc,\n                    '\", \"image\": \"',\n                    lib.svgUtf8(lib.buildSvg(data, file, zoom)),\n                    '\",\"tokenId\":\"',\n                    lib.uintToAscii(data.tokenId),\n                    '\"}'\n                )\n            )\n        );\n    }\n}\n"
    },
    "lib/ds-test/src/test.sol": {
      "content": "// SPDX-License-Identifier: GPL-3.0-or-later\n\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n\n// You should have received a copy of the GNU General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\npragma solidity >=0.4.23;\n\ncontract DSTest {\n    event log                    (string);\n    event logs                   (bytes);\n\n    event log_address            (address);\n    event log_bytes32            (bytes32);\n    event log_int                (int);\n    event log_uint               (uint);\n    event log_bytes              (bytes);\n    event log_string             (string);\n\n    event log_named_address      (string key, address val);\n    event log_named_bytes32      (string key, bytes32 val);\n    event log_named_decimal_int  (string key, int val, uint decimals);\n    event log_named_decimal_uint (string key, uint val, uint decimals);\n    event log_named_int          (string key, int val);\n    event log_named_uint         (string key, uint val);\n    event log_named_bytes        (string key, bytes val);\n    event log_named_string       (string key, string val);\n\n    bool public IS_TEST = true;\n    bool public failed;\n\n    address constant HEVM_ADDRESS =\n        address(bytes20(uint160(uint256(keccak256('hevm cheat code')))));\n\n    modifier mayRevert() { _; }\n    modifier testopts(string memory) { _; }\n\n    function fail() internal {\n        failed = true;\n    }\n\n    modifier logs_gas() {\n        uint startGas = gasleft();\n        _;\n        uint endGas = gasleft();\n        emit log_named_uint(\"gas\", startGas - endGas);\n    }\n\n    function assertTrue(bool condition) internal {\n        if (!condition) {\n            emit log(\"Error: Assertion Failed\");\n            fail();\n        }\n    }\n\n    function assertTrue(bool condition, string memory err) internal {\n        if (!condition) {\n            emit log_named_string(\"Error\", err);\n            assertTrue(condition);\n        }\n    }\n\n    function assertEq(address a, address b) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [address]\");\n            emit log_named_address(\"  Expected\", b);\n            emit log_named_address(\"    Actual\", a);\n            fail();\n        }\n    }\n    function assertEq(address a, address b, string memory err) internal {\n        if (a != b) {\n            emit log_named_string (\"Error\", err);\n            assertEq(a, b);\n        }\n    }\n\n    function assertEq(bytes32 a, bytes32 b) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [bytes32]\");\n            emit log_named_bytes32(\"  Expected\", b);\n            emit log_named_bytes32(\"    Actual\", a);\n            fail();\n        }\n    }\n    function assertEq(bytes32 a, bytes32 b, string memory err) internal {\n        if (a != b) {\n            emit log_named_string (\"Error\", err);\n            assertEq(a, b);\n        }\n    }\n    function assertEq32(bytes32 a, bytes32 b) internal {\n        assertEq(a, b);\n    }\n    function assertEq32(bytes32 a, bytes32 b, string memory err) internal {\n        assertEq(a, b, err);\n    }\n\n    function assertEq(int a, int b) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [int]\");\n            emit log_named_int(\"  Expected\", b);\n            emit log_named_int(\"    Actual\", a);\n            fail();\n        }\n    }\n    function assertEq(int a, int b, string memory err) internal {\n        if (a != b) {\n            emit log_named_string(\"Error\", err);\n            assertEq(a, b);\n        }\n    }\n    function assertEq(uint a, uint b) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [uint]\");\n            emit log_named_uint(\"  Expected\", b);\n            emit log_named_uint(\"    Actual\", a);\n            fail();\n        }\n    }\n    function assertEq(uint a, uint b, string memory err) internal {\n        if (a != b) {\n            emit log_named_string(\"Error\", err);\n            assertEq(a, b);\n        }\n    }\n    function assertEqDecimal(int a, int b, uint decimals) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [decimal int]\");\n            emit log_named_decimal_int(\"  Expected\", b, decimals);\n            emit log_named_decimal_int(\"    Actual\", a, decimals);\n            fail();\n        }\n    }\n    function assertEqDecimal(int a, int b, uint decimals, string memory err) internal {\n        if (a != b) {\n            emit log_named_string(\"Error\", err);\n            assertEqDecimal(a, b, decimals);\n        }\n    }\n    function assertEqDecimal(uint a, uint b, uint decimals) internal {\n        if (a != b) {\n            emit log(\"Error: a == b not satisfied [decimal uint]\");\n            emit log_named_decimal_uint(\"  Expected\", b, decimals);\n            emit log_named_decimal_uint(\"    Actual\", a, decimals);\n            fail();\n        }\n    }\n    function assertEqDecimal(uint a, uint b, uint decimals, string memory err) internal {\n        if (a != b) {\n            emit log_named_string(\"Error\", err);\n            assertEqDecimal(a, b, decimals);\n        }\n    }\n\n    function assertGt(uint a, uint b) internal {\n        if (a <= b) {\n            emit log(\"Error: a > b not satisfied [uint]\");\n            emit log_named_uint(\"  Value a\", a);\n            emit log_named_uint(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertGt(uint a, uint b, string memory err) internal {\n        if (a <= b) {\n            emit log_named_string(\"Error\", err);\n            assertGt(a, b);\n        }\n    }\n    function assertGt(int a, int b) internal {\n        if (a <= b) {\n            emit log(\"Error: a > b not satisfied [int]\");\n            emit log_named_int(\"  Value a\", a);\n            emit log_named_int(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertGt(int a, int b, string memory err) internal {\n        if (a <= b) {\n            emit log_named_string(\"Error\", err);\n            assertGt(a, b);\n        }\n    }\n    function assertGtDecimal(int a, int b, uint decimals) internal {\n        if (a <= b) {\n            emit log(\"Error: a > b not satisfied [decimal int]\");\n            emit log_named_decimal_int(\"  Value a\", a, decimals);\n            emit log_named_decimal_int(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertGtDecimal(int a, int b, uint decimals, string memory err) internal {\n        if (a <= b) {\n            emit log_named_string(\"Error\", err);\n            assertGtDecimal(a, b, decimals);\n        }\n    }\n    function assertGtDecimal(uint a, uint b, uint decimals) internal {\n        if (a <= b) {\n            emit log(\"Error: a > b not satisfied [decimal uint]\");\n            emit log_named_decimal_uint(\"  Value a\", a, decimals);\n            emit log_named_decimal_uint(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertGtDecimal(uint a, uint b, uint decimals, string memory err) internal {\n        if (a <= b) {\n            emit log_named_string(\"Error\", err);\n            assertGtDecimal(a, b, decimals);\n        }\n    }\n\n    function assertGe(uint a, uint b) internal {\n        if (a < b) {\n            emit log(\"Error: a >= b not satisfied [uint]\");\n            emit log_named_uint(\"  Value a\", a);\n            emit log_named_uint(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertGe(uint a, uint b, string memory err) internal {\n        if (a < b) {\n            emit log_named_string(\"Error\", err);\n            assertGe(a, b);\n        }\n    }\n    function assertGe(int a, int b) internal {\n        if (a < b) {\n            emit log(\"Error: a >= b not satisfied [int]\");\n            emit log_named_int(\"  Value a\", a);\n            emit log_named_int(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertGe(int a, int b, string memory err) internal {\n        if (a < b) {\n            emit log_named_string(\"Error\", err);\n            assertGe(a, b);\n        }\n    }\n    function assertGeDecimal(int a, int b, uint decimals) internal {\n        if (a < b) {\n            emit log(\"Error: a >= b not satisfied [decimal int]\");\n            emit log_named_decimal_int(\"  Value a\", a, decimals);\n            emit log_named_decimal_int(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertGeDecimal(int a, int b, uint decimals, string memory err) internal {\n        if (a < b) {\n            emit log_named_string(\"Error\", err);\n            assertGeDecimal(a, b, decimals);\n        }\n    }\n    function assertGeDecimal(uint a, uint b, uint decimals) internal {\n        if (a < b) {\n            emit log(\"Error: a >= b not satisfied [decimal uint]\");\n            emit log_named_decimal_uint(\"  Value a\", a, decimals);\n            emit log_named_decimal_uint(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertGeDecimal(uint a, uint b, uint decimals, string memory err) internal {\n        if (a < b) {\n            emit log_named_string(\"Error\", err);\n            assertGeDecimal(a, b, decimals);\n        }\n    }\n\n    function assertLt(uint a, uint b) internal {\n        if (a >= b) {\n            emit log(\"Error: a < b not satisfied [uint]\");\n            emit log_named_uint(\"  Value a\", a);\n            emit log_named_uint(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertLt(uint a, uint b, string memory err) internal {\n        if (a >= b) {\n            emit log_named_string(\"Error\", err);\n            assertLt(a, b);\n        }\n    }\n    function assertLt(int a, int b) internal {\n        if (a >= b) {\n            emit log(\"Error: a < b not satisfied [int]\");\n            emit log_named_int(\"  Value a\", a);\n            emit log_named_int(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertLt(int a, int b, string memory err) internal {\n        if (a >= b) {\n            emit log_named_string(\"Error\", err);\n            assertLt(a, b);\n        }\n    }\n    function assertLtDecimal(int a, int b, uint decimals) internal {\n        if (a >= b) {\n            emit log(\"Error: a < b not satisfied [decimal int]\");\n            emit log_named_decimal_int(\"  Value a\", a, decimals);\n            emit log_named_decimal_int(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertLtDecimal(int a, int b, uint decimals, string memory err) internal {\n        if (a >= b) {\n            emit log_named_string(\"Error\", err);\n            assertLtDecimal(a, b, decimals);\n        }\n    }\n    function assertLtDecimal(uint a, uint b, uint decimals) internal {\n        if (a >= b) {\n            emit log(\"Error: a < b not satisfied [decimal uint]\");\n            emit log_named_decimal_uint(\"  Value a\", a, decimals);\n            emit log_named_decimal_uint(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertLtDecimal(uint a, uint b, uint decimals, string memory err) internal {\n        if (a >= b) {\n            emit log_named_string(\"Error\", err);\n            assertLtDecimal(a, b, decimals);\n        }\n    }\n\n    function assertLe(uint a, uint b) internal {\n        if (a > b) {\n            emit log(\"Error: a <= b not satisfied [uint]\");\n            emit log_named_uint(\"  Value a\", a);\n            emit log_named_uint(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertLe(uint a, uint b, string memory err) internal {\n        if (a > b) {\n            emit log_named_string(\"Error\", err);\n            assertLe(a, b);\n        }\n    }\n    function assertLe(int a, int b) internal {\n        if (a > b) {\n            emit log(\"Error: a <= b not satisfied [int]\");\n            emit log_named_int(\"  Value a\", a);\n            emit log_named_int(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertLe(int a, int b, string memory err) internal {\n        if (a > b) {\n            emit log_named_string(\"Error\", err);\n            assertLe(a, b);\n        }\n    }\n    function assertLeDecimal(int a, int b, uint decimals) internal {\n        if (a > b) {\n            emit log(\"Error: a <= b not satisfied [decimal int]\");\n            emit log_named_decimal_int(\"  Value a\", a, decimals);\n            emit log_named_decimal_int(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertLeDecimal(int a, int b, uint decimals, string memory err) internal {\n        if (a > b) {\n            emit log_named_string(\"Error\", err);\n            assertLeDecimal(a, b, decimals);\n        }\n    }\n    function assertLeDecimal(uint a, uint b, uint decimals) internal {\n        if (a > b) {\n            emit log(\"Error: a <= b not satisfied [decimal uint]\");\n            emit log_named_decimal_uint(\"  Value a\", a, decimals);\n            emit log_named_decimal_uint(\"  Value b\", b, decimals);\n            fail();\n        }\n    }\n    function assertLeDecimal(uint a, uint b, uint decimals, string memory err) internal {\n        if (a > b) {\n            emit log_named_string(\"Error\", err);\n            assertGeDecimal(a, b, decimals);\n        }\n    }\n\n    function assertEq(string memory a, string memory b) internal {\n        if (keccak256(abi.encodePacked(a)) != keccak256(abi.encodePacked(b))) {\n            emit log(\"Error: a == b not satisfied [string]\");\n            emit log_named_string(\"  Value a\", a);\n            emit log_named_string(\"  Value b\", b);\n            fail();\n        }\n    }\n    function assertEq(string memory a, string memory b, string memory err) internal {\n        if (keccak256(abi.encodePacked(a)) != keccak256(abi.encodePacked(b))) {\n            emit log_named_string(\"Error\", err);\n            assertEq(a, b);\n        }\n    }\n\n    function checkEq0(bytes memory a, bytes memory b) internal pure returns (bool ok) {\n        ok = true;\n        if (a.length == b.length) {\n            for (uint i = 0; i < a.length; i++) {\n                if (a[i] != b[i]) {\n                    ok = false;\n                }\n            }\n        } else {\n            ok = false;\n        }\n    }\n    function assertEq0(bytes memory a, bytes memory b) internal {\n        if (!checkEq0(a, b)) {\n            emit log(\"Error: a == b not satisfied [bytes]\");\n            emit log_named_bytes(\"  Expected\", a);\n            emit log_named_bytes(\"    Actual\", b);\n            fail();\n        }\n    }\n    function assertEq0(bytes memory a, bytes memory b, string memory err) internal {\n        if (!checkEq0(a, b)) {\n            emit log_named_string(\"Error\", err);\n            assertEq0(a, b);\n        }\n    }\n}\n"
    },
    "src/_test/utils/Vm.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\ninterface Hevm {\n    function warp(uint256) external;\n\n    function roll(uint256) external;\n\n    function store(\n        address,\n        bytes32,\n        bytes32\n    ) external;\n\n    function load(address, bytes32) external returns (bytes32);\n\n    function sign(uint256, bytes32)\n        external\n        returns (\n            uint8,\n            bytes32,\n            bytes32\n        );\n\n    function addr(uint256) external returns (address);\n\n    function ffi(string[] calldata) external returns (bytes memory);\n}\n\ninterface ForgeVm {\n    // Set block.timestamp (newTimestamp)\n    function warp(uint256) external;\n\n    // Set block.height (newHeight)\n    function roll(uint256) external;\n\n    // Loads a storage slot from an address (who, slot)\n    function load(address, bytes32) external returns (bytes32);\n\n    // Stores a value to an address' storage slot, (who, slot, value)\n    function store(\n        address,\n        bytes32,\n        bytes32\n    ) external;\n\n    // Signs data, (privateKey, digest) => (r, v, s)\n    function sign(uint256, bytes32)\n        external\n        returns (\n            uint8,\n            bytes32,\n            bytes32\n        );\n\n    // Gets address for a given private key, (privateKey) => (address)\n    function addr(uint256) external returns (address);\n\n    // Performs a foreign function call via terminal, (stringInputs) => (result)\n    function ffi(string[] calldata) external returns (bytes memory);\n\n    // Calls another contract with a specified `msg.sender`, (newSender, contract, input) => (success, returnData)\n    function prank(\n        address,\n        address,\n        bytes calldata\n    ) external payable returns (bool, bytes memory);\n\n    // Sets an address' balance, (who, newBalance)\n    function deal(address, uint256) external;\n\n    // Sets an address' code, (who, newCode)\n    function etch(address, bytes calldata) external;\n\n    // Expects an error on next call\n    function expectRevert(bytes calldata) external;\n}\n"
    },
    "src/core/DotnuggV1Storage.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\nimport {IDotnuggV1Storage} from '../interfaces/IDotnuggV1Storage.sol';\nimport {SSTORE2} from '../libraries/SSTORE2.sol';\nimport {SafeCastLib} from '../libraries/SafeCastLib.sol';\n\nabstract contract DotnuggV1Storage is IDotnuggV1Storage {\n    using SafeCastLib for uint256;\n    using SafeCastLib for uint16;\n\n    // Mapping from token ID to owner address\n    mapping(address => mapping(uint8 => uint168[])) sstore2Pointers;\n    mapping(address => mapping(uint8 => uint8)) featureLengths;\n\n    function stored(address implementer, uint8 feature) public view override returns (uint8 res) {\n        return featureLengths[implementer][feature];\n    }\n\n    /* \n                                TRUSTED\n        */\n\n    function unsafeBulkStore(uint256[][][] calldata data) public override {\n        for (uint8 i = 0; i < 8; i++) {\n            store(i, data[i]);\n        }\n    }\n\n    function store(uint8 feature, uint256[][] calldata data) public override returns (uint8 res) {\n        uint8 len = data.length.safe8();\n\n        require(len > 0, 'F:0');\n\n        address ptr = SSTORE2.write(abi.encode(data));\n\n        sstore2Pointers[msg.sender][feature].push(uint168(uint160(ptr)) | (uint168(len) << 160));\n\n        featureLengths[msg.sender][feature] += len;\n\n        return len;\n    }\n\n    /* \n                                 GET FILES\n        */\n\n    function getBatchFiles(address implementer, uint8[] memory ids) internal view returns (uint256[][] memory data) {\n        data = new uint256[][](ids.length);\n\n        for (uint8 i = 0; i < ids.length; i++) {\n            if (ids[i] == 0) data[i] = new uint256[](0);\n            else data[i] = get(implementer, i, ids[i]);\n        }\n    }\n\n    function get(\n        address implementer,\n        uint8 feature,\n        uint8 pos\n    ) internal view returns (uint256[] memory data) {\n        require(pos != 0, 'F:1');\n\n        pos--;\n\n        uint8 totalLength = featureLengths[implementer][feature];\n\n        require(pos < totalLength, 'F:2');\n\n        uint168[] memory ptrs = sstore2Pointers[implementer][feature];\n\n        address stor;\n        uint8 storePos;\n\n        uint8 workingPos;\n\n        for (uint256 i = 0; i < ptrs.length; i++) {\n            uint8 here = uint8(ptrs[i] >> 160);\n            if (workingPos + here > pos) {\n                stor = address(uint160(ptrs[i]));\n                storePos = pos - workingPos;\n                break;\n            } else {\n                workingPos += here;\n            }\n        }\n\n        require(stor != address(0), 'F:3');\n\n        data = abi.decode(SSTORE2.read(stor), (uint256[][]))[storePos];\n    }\n}\n"
    },
    "src/core/DotnuggV1Lib.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {IDotnuggV1Metadata} from '../interfaces/IDotnuggV1Metadata.sol';\n\nimport {BitReader} from '../libraries/BitReader.sol';\nimport {Base64} from '../libraries/Base64.sol';\n\nimport {Calculator} from '../logic/Calculator.sol';\nimport {Matrix} from '../logic/Matrix.sol';\nimport {DotnuggV1SvgLib} from './DotnuggV1SvgLib.sol';\n\nimport {ShiftLib} from '../libraries/ShiftLib.sol';\nimport {Base64} from '../libraries/Base64.sol';\n\nimport {Version} from '../types/Version.sol';\nimport {Types} from '../types/Types.sol';\nimport {DotnuggV1Storage} from './DotnuggV1Storage.sol';\nimport {StringCastLib} from '../libraries/StringCastLib.sol';\n\nimport '../_test/utils/DSTestEmmitter.sol';\n\ncontract DotnuggV1Lib is DSTestEmmitter {\n    using BitReader for BitReader.Memory;\n\n    function processCore(\n        uint256[][] memory files,\n        IDotnuggV1Metadata.Memory memory data,\n        uint8 width\n    ) public view returns (uint256[] memory resp) {\n        require(data.version == 1, 'V1s');\n\n        require(width <= 64 && width > 4, 'V1:SIZE');\n\n        if (width % 2 == 0) width--;\n\n        Version.Memory[][] memory versions = parse(files, data.xovers, data.yovers);\n\n        Types.Matrix memory old = combine(8, width, versions);\n\n        resp = compressBigMatrix(old.version.bigmatrix, old.version.data);\n    }\n\n    function combine(\n        uint256 featureLen,\n        uint8 width,\n        Version.Memory[][] memory versions\n    ) internal pure returns (Types.Matrix memory) {\n        Types.Canvas memory canvas;\n        canvas.matrix = Matrix.create(width, width);\n        canvas.receivers = new Types.Anchor[](featureLen);\n\n        Types.Coordinate memory center = Types.Coordinate({a: width / 2 + 1, b: width / 2 + 1, exists: true});\n\n        Types.Rlud memory r;\n\n        for (uint8 i = 0; i < featureLen; i++) {\n            canvas.receivers[i] = Types.Anchor({coordinate: center, radii: r});\n        }\n\n        canvas.matrix.width = width;\n        canvas.matrix.height = width;\n\n        Types.Mix memory mix;\n        mix.matrix = Matrix.create(width, width);\n        mix.receivers = new Types.Anchor[](featureLen);\n\n        for (uint8 i = 0; i < versions.length; i++) {\n            if (versions[i].length > 0) {\n                Calculator.setMix(mix, versions[i], Calculator.pickVersionIndex(canvas, versions[i]));\n\n                Calculator.formatForCanvas(canvas, mix);\n\n                Calculator.postionForCanvas(canvas, mix);\n\n                Calculator.mergeToCanvas(canvas, mix);\n\n                Calculator.calculateReceivers(mix);\n\n                Calculator.updateReceivers(canvas, mix);\n            }\n        }\n\n        return canvas.matrix;\n    }\n\n    function parse(\n        uint256[][] memory data,\n        uint8[] memory xovers,\n        uint8[] memory yovers\n    ) public view returns (Version.Memory[][] memory m) {\n        m = new Version.Memory[][](data.length);\n\n        for (uint256 j = 0; j < data.length; j++) {\n            (bool empty, BitReader.Memory memory reader) = BitReader.init(data[j]);\n\n            if (empty) continue;\n\n            // indicates dotnuggV1 encoded file\n            require(reader.select(32) == 0x420690_01, 'DEC:PI:0');\n\n            uint256 feature = reader.select(3);\n\n            uint256 id = reader.select(8);\n\n            uint256[] memory pallet = Version.parsePallet(reader, id, feature);\n\n            uint256 versionLength = reader.select(2) + 1;\n\n            m[j] = new Version.Memory[](versionLength);\n\n            for (uint256 i = 0; i < versionLength; i++) {\n                m[j][i].data = Version.parseData(reader, feature, xovers, yovers);\n\n                m[j][i].receivers = Version.parseReceivers(reader);\n\n                (uint256 width, uint256 height) = Version.getWidth(m[j][i]);\n\n                m[j][i].minimatrix = Version.parseMiniMatrix(reader, width, height);\n\n                m[j][i].pallet = pallet;\n            }\n        }\n    }\n\n    function decompressBigMatrix(uint256[] memory input) public pure returns (uint256[] memory res) {\n        res = new uint256[]((input[input.length - 1] >> 240));\n\n        uint256 counter = 0;\n\n        for (uint256 i = 0; i < input.length; i++) {\n            uint256 numzeros = input[i] & 0xf;\n\n            if (numzeros == 0xf) {\n                numzeros = input[i++] >> 4;\n            }\n\n            for (uint256 j = 0; j < numzeros; j++) {\n                // skips a row, keeping it at zero\n                counter++;\n            }\n\n            res[counter++] = input[i] >> 4;\n        }\n    }\n\n    function compressBigMatrix(uint256[] memory input, uint256 data) public pure returns (uint256[] memory res) {\n        uint256 counter;\n        uint256 rescounter;\n        uint256 zerocount;\n\n        do {\n            if (input[counter] == 0) {\n                zerocount++;\n                continue;\n            }\n\n            if (zerocount > 14) {\n                input[rescounter++] = (zerocount << 4) | 0xf;\n                zerocount = 0;\n            }\n\n            input[rescounter++] = (input[counter] << 4) | zerocount;\n\n            zerocount = 0;\n        } while (++counter < input.length);\n\n        if (zerocount > 14) {\n            input[rescounter++] = (zerocount << 4) | 0xf;\n            zerocount = 0;\n        }\n\n        input[rescounter++] = (data << 4) | zerocount | ((input.length + 1) << 240);\n\n        Version.setArrayLength(input, rescounter);\n\n        return input;\n    }\n\n    function buildSvg(\n        IDotnuggV1Metadata.Memory memory data,\n        uint256[] memory file,\n        uint8 zoom\n    ) external pure returns (bytes memory res) {\n        file = decompressBigMatrix(file);\n\n        uint256 width = (file[file.length - 1] >> 63) & ShiftLib.mask(6);\n        uint256 height = (file[file.length - 1] >> 69) & ShiftLib.mask(6);\n\n        res = DotnuggV1SvgLib.build(data, file, width, height, zoom);\n\n        return res;\n    }\n\n    function svgBase64(bytes memory input) public pure returns (bytes memory res) {\n        res = abi.encodePacked(Base64.PREFIX_SVG, base64(input));\n    }\n\n    function svgUtf8(bytes memory input) public pure returns (bytes memory res) {\n        res = abi.encodePacked('data:image/svg+xml;charset=UTF-8,', input);\n    }\n\n    function jsonBase64(bytes memory input) public pure returns (bytes memory res) {\n        res = abi.encodePacked(Base64.PREFIX_JSON, base64(input));\n    }\n\n    function dotnuggBase64(bytes memory input) public pure returns (bytes memory res) {\n        res = abi.encodePacked(Base64.PREFIX_DOTNUGG, base64(input));\n    }\n\n    function base64(bytes memory input) public pure returns (bytes memory res) {\n        res = Base64._encode(input);\n    }\n\n    function uintToAscii(uint256 input) public pure returns (string memory res) {\n        res = StringCastLib.toAsciiString(input);\n    }\n\n    function uintToHex(uint256 input, uint8 length) public pure returns (string memory res) {\n        res = StringCastLib.toHexString(input, length);\n    }\n}\n"
    },
    "src/libraries/SSTORE2.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\n/// Adapted from Rari-Capital/solmate\n\n/// @notice Read and write to persistent storage at a fraction of the cost.\n/// @author Modified from 0xSequence (https://github.com/0xsequence/sstore2/blob/master/contracts/SSTORE2.sol)\nlibrary SSTORE2 {\n    uint256 internal constant DATA_OFFSET = 1;\n\n    function write(bytes memory data) internal returns (address pointer) {\n        bytes memory runtimeCode = abi.encodePacked(hex'00', data);\n\n        bytes memory creationCode = abi.encodePacked(hex'63', uint32(runtimeCode.length), hex'80_60_0E_60_00_39_60_00_F3', runtimeCode);\n\n        assembly {\n            pointer := create(0, add(creationCode, 32), mload(creationCode))\n        }\n\n        require(pointer != address(0), 'DEPLOYMENT_FAILED');\n    }\n\n    function read(address pointer) internal view returns (bytes memory) {\n        return readBytecode(pointer, DATA_OFFSET, pointer.code.length - DATA_OFFSET);\n    }\n\n    function read(address pointer, uint256 start) internal view returns (bytes memory) {\n        start += DATA_OFFSET;\n\n        return readBytecode(pointer, start, pointer.code.length - start);\n    }\n\n    function read(\n        address pointer,\n        uint256 start,\n        uint256 end\n    ) internal view returns (bytes memory) {\n        start += DATA_OFFSET;\n        end += DATA_OFFSET;\n\n        require(pointer.code.length >= end, 'OUT_OF_BOUNDS');\n\n        return readBytecode(pointer, start, end - start);\n    }\n\n    function readBytecode(\n        address pointer,\n        uint256 start,\n        uint256 size\n    ) private view returns (bytes memory data) {\n        assembly {\n            data := mload(0x40)\n            mstore(0x40, add(data, and(add(add(size, add(start, 0x20)), 0x1f), not(0x1f))))\n            mstore(data, size)\n            extcodecopy(pointer, add(data, 0x20), start, size)\n        }\n    }\n}\n"
    },
    "src/libraries/SafeCastLib.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\nimport {ShiftLib} from './ShiftLib.sol';\n\nlibrary SafeCastLib {\n    function safe252(uint256 x) internal pure returns (uint256 y) {\n        require(x <= ShiftLib.mask(252), 'SC:252');\n        return x;\n    }\n\n    function safe160(uint256 x) internal pure returns (uint160 y) {\n        require(x <= type(uint160).max);\n        y = uint160(x);\n    }\n\n    function safe96(uint256 x) internal pure returns (uint96 y) {\n        require(x <= type(uint96).max);\n        y = uint96(x);\n    }\n\n    function safe64(uint256 x) internal pure returns (uint64 y) {\n        require(x <= type(uint64).max);\n        y = uint64(x);\n    }\n\n    function safe32(uint256 x) internal pure returns (uint32 y) {\n        require(x <= type(uint32).max);\n        y = uint32(x);\n    }\n\n    function safe16(uint256 x) internal pure returns (uint16 y) {\n        require(x <= type(uint16).max);\n        y = uint16(x);\n    }\n\n    function safe8(uint256 x) internal pure returns (uint8 y) {\n        require(x <= type(uint8).max);\n        y = uint8(x);\n    }\n\n    function safe6(uint256 x) internal pure returns (uint8 y) {\n        require(x <= 0xf7);\n        y = uint8(x);\n    }\n\n    function safe4(uint256 x) internal pure returns (uint8 y) {\n        require(x <= 0xf);\n        y = uint8(x);\n    }\n\n    function safe3(uint256 x) internal pure returns (uint8 y) {\n        require(x <= 0x7);\n        y = uint8(x);\n    }\n}\n"
    },
    "src/libraries/ShiftLib.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {SafeCastLib} from './SafeCastLib.sol';\n\nlibrary ShiftLib {\n    using SafeCastLib for uint256;\n\n    /// @notice creates a bit mask\n    /// @dev res = (2 ^ bits) - 1\n    /// @param bits d\n    /// @return res d\n    /// @dev no need to check if \"bits\" is < 256 as anything greater than 255 will be treated the same\n    function mask(uint8 bits) internal pure returns (uint256 res) {\n        assembly {\n            res := sub(shl(bits, 1), 1)\n        }\n    }\n\n    function fullsubmask(uint8 bits, uint8 pos) internal pure returns (uint256 res) {\n        res = ~(mask(bits) << pos);\n    }\n\n    function set(\n        uint256 cache,\n        uint8 bits,\n        uint8 pos,\n        uint256 value\n    ) internal pure returns (uint256 res) {\n        res = cache & fullsubmask(bits, pos);\n\n        assembly {\n            value := shl(pos, value)\n        }\n\n        res |= value;\n    }\n\n    function get(\n        uint256 cache,\n        uint8 bits,\n        uint8 pos\n    ) internal pure returns (uint256 res) {\n        assembly {\n            res := shr(pos, cache)\n        }\n        res &= mask(bits);\n    }\n\n    /*\n                                ARRAYS\n    */\n\n    function getArray8x8(uint256 store, uint8 pos) internal pure returns (uint8[] memory arr) {\n        store = get(store, 64, pos);\n\n        arr = new uint8[](8);\n        for (uint256 i = 0; i < 8; i++) {\n            arr[i] = uint8(store & 0xff);\n            store >>= 8;\n        }\n    }\n\n    function setArray8x8(\n        uint256 store,\n        uint8 pos,\n        uint8[] memory arr\n    ) internal pure returns (uint256 res) {\n        for (uint256 i = 8; i > 0; i--) {\n            res |= uint256(arr[i - 1]) << ((8 * (i - 1)));\n        }\n\n        res = set(store, 64, pos, res);\n    }\n}\n"
    },
    "src/libraries/BitReader.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport '../libraries/ShiftLib.sol';\n\nlibrary BitReader {\n    using ShiftLib for uint256;\n\n    struct Memory {\n        uint256[] dat;\n        uint256 moves;\n        uint256 pos;\n    }\n\n    function init(uint256[] memory input) internal pure returns (bool err, Memory memory m) {\n        if (input.length == 0) return (true, m);\n\n        m.dat = input;\n\n        m.moves = 2;\n\n        m.dat = new uint256[](input.length);\n\n        for (uint256 i = input.length; i > 0; i--) {\n            m.dat[i - 1] = input[input.length - i];\n        }\n    }\n\n    function peek(Memory memory m, uint8 bits) internal pure returns (uint256 res) {\n        res = m.dat[0] & ShiftLib.mask(bits);\n    }\n\n    function select(Memory memory m, uint8 bits) internal pure returns (uint256 res) {\n        res = m.dat[0] & ShiftLib.mask(bits);\n\n        m.dat[0] = m.dat[0] >> bits;\n\n        m.pos += bits;\n\n        if (m.pos >= 128) {\n            uint256 ptr = (m.moves / 2);\n            if (ptr < m.dat.length) {\n                m.dat[0] <<= m.pos - 128;\n                uint256 move = m.dat[ptr] & ShiftLib.mask(128);\n                m.dat[ptr] >>= 128;\n                m.dat[0] |= (move << 128);\n                m.dat[0] >>= (m.pos - 128);\n                m.moves++;\n                m.pos -= 128;\n            }\n        }\n    }\n}\n"
    },
    "src/libraries/Base64.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\n/**\n * @title Base64\n * @author Nugg Labs - @danny7even & @dub6ix\n * @notice library for encoding bytes into base64\n */\nlibrary Base64 {\n    string internal constant _TABLE = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n    string internal constant PREFIX_JSON = 'data:application/json;base64,';\n    string internal constant PREFIX_DOTNUGG = 'data:image/dotnugg;base64,';\n    string internal constant PREFIX_SVG = 'data:image/svg+xml;base64,';\n\n    /**\n     * @notice wrapper for _encode for svg data\n     * @param data bytes to encode\n     * @return base64 string representation of input bytes, prefixed with json base64 prefix\n     */\n    function encode(bytes memory data, string memory file) internal pure returns (string memory) {\n        return string(abi.encodePacked('data:', file, ';base64,', _encode(data)));\n    }\n\n    /**\n     * @notice Encodes some bytes in base64\n     * @param data bytes to encode\n     * @return base64 string representation of input bytes\n     * @dev Credit to Brecht Devos - <brecht@loopring.org> - under MIT license https://github.com/Brechtpd/base64/blob/main/base64.sol\n     * @dev modified for solidity v8\n     */\n    function _encode(bytes memory data) internal pure returns (bytes memory) {\n        if (data.length == 0) return '';\n\n        // load the table into memory\n        string memory table = _TABLE;\n\n        // multiply by 4/3 rounded up\n        uint256 encodedLen = 4 * ((data.length + 2) / 3);\n\n        // add some extra buffer at the end required for the writing\n        bytes memory result = new bytes(encodedLen + 32);\n\n        assembly {\n            // set the actual output length\n            mstore(result, encodedLen)\n\n            // prepare the lookup table\n            let tablePtr := add(table, 1)\n\n            // input ptr\n            let dataPtr := data\n            let endPtr := add(dataPtr, mload(data))\n\n            // result ptr, jump over length\n            let resultPtr := add(result, 32)\n\n            // run over the input, 3 bytes at a time\n            for {\n\n            } lt(dataPtr, endPtr) {\n\n            } {\n                dataPtr := add(dataPtr, 3)\n\n                // read 3 bytes\n                let input := mload(dataPtr)\n\n                // write 4 characters\n                mstore(resultPtr, shl(248, mload(add(tablePtr, and(shr(18, input), 0x3F)))))\n                resultPtr := add(resultPtr, 1)\n                mstore(resultPtr, shl(248, mload(add(tablePtr, and(shr(12, input), 0x3F)))))\n                resultPtr := add(resultPtr, 1)\n                mstore(resultPtr, shl(248, mload(add(tablePtr, and(shr(6, input), 0x3F)))))\n                resultPtr := add(resultPtr, 1)\n                mstore(resultPtr, shl(248, mload(add(tablePtr, and(input, 0x3F)))))\n                resultPtr := add(resultPtr, 1)\n            }\n\n            // padding with '='\n            switch mod(mload(data), 3)\n            case 1 {\n                mstore(sub(resultPtr, 2), shl(240, 0x3d3d))\n            }\n            case 2 {\n                mstore(sub(resultPtr, 1), shl(248, 0x3d))\n            }\n        }\n\n        return result;\n    }\n}\n"
    },
    "src/logic/Calculator.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport './Matrix.sol';\nimport './Rgba.sol';\nimport './Anchor.sol';\n\nimport '../types/Version.sol';\nimport '../types/Pixel.sol';\n\nimport '../types/Types.sol';\n\nlibrary Calculator {\n    using Rgba for Types.Rgba;\n    using Matrix for Types.Matrix;\n    using Pixel for uint256;\n\n    /**\n     * @notice\n     * @devg\n     */\n    function postionForCanvas(Types.Canvas memory canvas, Types.Mix memory mix) internal pure {\n        Types.Anchor memory receiver = canvas.receivers[mix.feature];\n        Types.Anchor memory anchor = mix.version.anchor;\n\n        mix.xoffset = receiver.coordinate.a > anchor.coordinate.a ? receiver.coordinate.a - anchor.coordinate.a : 0;\n        mix.yoffset = receiver.coordinate.b > anchor.coordinate.b ? receiver.coordinate.b - anchor.coordinate.b : 0;\n\n        mix.xoffset++;\n\n        canvas.matrix.moveTo(mix.xoffset, mix.yoffset, mix.matrix.width, mix.matrix.height);\n    }\n\n    /**\n     * @notice\n     * @dev\n     */\n    function formatForCanvas(Types.Canvas memory canvas, Types.Mix memory mix) internal pure {\n        Types.Anchor memory receiver = canvas.receivers[mix.feature];\n        Types.Anchor memory anchor = mix.version.anchor;\n\n        if (mix.version.expanders.l != 0 && anchor.radii.l != 0 && anchor.radii.l <= receiver.radii.l) {\n            uint8 amount = receiver.radii.l - anchor.radii.l;\n            mix.matrix.addColumnsAt(mix.version.expanders.l - 1, amount);\n            anchor.coordinate.a += amount;\n            if (mix.version.expanders.r > 0) mix.version.expanders.r += amount;\n        }\n        if (mix.version.expanders.r != 0 && anchor.radii.r != 0 && anchor.radii.r <= receiver.radii.r) {\n            mix.matrix.addColumnsAt(mix.version.expanders.r - 1, receiver.radii.r - anchor.radii.r);\n        }\n        if (mix.version.expanders.d != 0 && anchor.radii.d != 0 && anchor.radii.d <= receiver.radii.d) {\n            uint8 amount = receiver.radii.d - anchor.radii.d;\n            mix.matrix.addRowsAt(mix.version.expanders.d, amount);\n            anchor.coordinate.b += amount;\n            if (mix.version.expanders.u > 0) mix.version.expanders.u += amount;\n        }\n        if (mix.version.expanders.u != 0 && anchor.radii.u != 0 && anchor.radii.u <= receiver.radii.u) {\n            mix.matrix.addRowsAt(mix.version.expanders.u, receiver.radii.u - anchor.radii.u);\n        }\n    }\n\n    function pickVersionIndex(Types.Canvas memory canvas, Version.Memory[] memory versions) internal pure returns (uint8) {\n        require(versions.length == 1, 'CALC:PVI:0');\n        if (versions.length == 1) {\n            return 0;\n        }\n        // uint8 index = uint8(versions.length) - 1;\n        //\n        // uint256 feature = (versions[0].data >> 75) & ShiftLib.mask(3);\n\n        // while (index > 0) {\n        // uint256 bits = (versions[index].data >> 27) & ShiftLib.mask(24);\n        // Types.Rlud memory anchorRadii = Types.Rlud({\n        // r: uint8((bits >> 18) & ShiftLib.mask(6)),\n        // l: uint8((bits >> 12) & ShiftLib.mask(6)),\n        // u: uint8((bits >> 6) & ShiftLib.mask(6)),\n        // d: uint8((bits) & ShiftLib.mask(6)),\n        // exists: true\n        // });\n\n        // if (checkRluds(anchorRadii, canvas.receivers[feature].radii)) {\n        // return index;\n        // }\n        // index = index - 1;\n        // }\n\n        return 0;\n    }\n\n    function checkRluds(Types.Rlud memory r1, Types.Rlud memory r2) internal pure returns (bool) {\n        return (r1.r <= r2.r && r1.l <= r2.l) || (r1.u <= r2.u && r1.d <= r2.d);\n    }\n\n    function setMix(\n        Types.Mix memory res,\n        Version.Memory[] memory versions,\n        uint8 versionIndex\n    ) internal pure {\n        uint256 radiiBits = (versions[versionIndex].data >> 27) & ShiftLib.mask(24);\n        uint256 expanderBits = (versions[versionIndex].data >> 3) & ShiftLib.mask(24);\n\n        (uint256 x, uint256 y) = Version.getAnchor(versions[versionIndex]);\n\n        (uint256 width, uint256 height) = Version.getWidth(versions[versionIndex]);\n\n        res.version.width = uint8(width);\n        res.version.height = uint8(height);\n        res.version.anchor = Types.Anchor({\n            radii: Types.Rlud({\n                r: uint8((radiiBits >> 18) & ShiftLib.mask(6)),\n                l: uint8((radiiBits >> 12) & ShiftLib.mask(6)),\n                u: uint8((radiiBits >> 6) & ShiftLib.mask(6)),\n                d: uint8((radiiBits >> 0) & ShiftLib.mask(6)),\n                exists: true\n            }),\n            coordinate: Types.Coordinate({a: uint8(x), b: uint8(y), exists: true})\n        });\n        res.version.expanders = Types.Rlud({\n            r: uint8((expanderBits >> 18) & ShiftLib.mask(6)),\n            l: uint8((expanderBits >> 12) & ShiftLib.mask(6)),\n            u: uint8((expanderBits >> 6) & ShiftLib.mask(6)),\n            d: uint8((expanderBits >> 0) & ShiftLib.mask(6)),\n            exists: true\n        });\n        res.version.calculatedReceivers = new Types.Coordinate[](8);\n\n        res.version.staticReceivers = new Types.Coordinate[](8);\n\n        for (uint256 i = 0; i < 8; i++) {\n            (uint256 _x, uint256 _y, bool exists) = Version.getReceiverAt(versions[versionIndex], i, false);\n            if (exists) {\n                res.version.staticReceivers[i].a = uint8(_x);\n                res.version.staticReceivers[i].b = uint8(_y);\n                res.version.staticReceivers[i].exists = true;\n            }\n        }\n\n        for (uint256 i = 0; i < 8; i++) {\n            (uint256 _x, uint256 _y, bool exists) = Version.getReceiverAt(versions[versionIndex], i, true);\n            if (exists) {\n                res.version.calculatedReceivers[i].a = uint8(_x);\n                res.version.calculatedReceivers[i].b = uint8(_y);\n                res.version.calculatedReceivers[i].exists = true;\n            }\n        }\n\n        // TODO - receivers?\n        res.xoffset = 0;\n        res.yoffset = 0;\n        res.receivers = new Types.Anchor[](res.receivers.length);\n        res.feature = uint8((versions[versionIndex].data >> 75) & ShiftLib.mask(3));\n        res.matrix.set(versions[versionIndex], width, height);\n    }\n\n    function updateReceivers(Types.Canvas memory canvas, Types.Mix memory mix) internal pure {\n        for (uint8 i = 0; i < mix.receivers.length; i++) {\n            Types.Anchor memory m = mix.receivers[i];\n            if (m.coordinate.exists) {\n                m.coordinate.a += mix.xoffset;\n                m.coordinate.b += mix.yoffset;\n                canvas.receivers[i] = m;\n            }\n        }\n    }\n\n    function mergeToCanvas(Types.Canvas memory canvas, Types.Mix memory mix) internal pure {\n        while (canvas.matrix.next() && mix.matrix.next()) {\n            uint256 canvasPixel = canvas.matrix.current();\n            uint256 mixPixel = mix.matrix.current();\n\n            if (mixPixel.e() && mixPixel.z() >= canvasPixel.z()) {\n                canvas.matrix.setCurrent(Rgba.combine(canvasPixel, mixPixel));\n            }\n        }\n        canvas.matrix.moveBack();\n        canvas.matrix.resetIterator();\n        mix.matrix.resetIterator();\n    }\n\n    function calculateReceivers(Types.Mix memory mix) internal pure {\n        Anchor.convertReceiversToAnchors(mix);\n    }\n}\n"
    },
    "src/logic/Matrix.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {Rgba} from '../logic/Rgba.sol';\n\nimport {Version} from '../types/Version.sol';\nimport {Types} from '../types/Types.sol';\n\nlibrary Matrix {\n    using Rgba for Types.Rgba;\n    using Version for Version.Memory;\n\n    function create(uint8 width, uint8 height) internal pure returns (Types.Matrix memory res) {\n        require(width % 2 == 1 && height % 2 == 1, 'ML:C:0');\n\n        Version.initBigMatrix(res.version, width);\n        res.version.setWidth(width, height);\n    }\n\n    function moveTo(\n        Types.Matrix memory matrix,\n        uint8 xoffset,\n        uint8 yoffset,\n        uint8 width,\n        uint8 height\n    ) internal pure {\n        matrix.currentUnsetX = xoffset;\n        matrix.currentUnsetY = yoffset;\n        matrix.startX = xoffset;\n        matrix.width = width + xoffset;\n        matrix.height = height + yoffset;\n    }\n\n    function next(Types.Matrix memory matrix) internal pure returns (bool res) {\n        res = next(matrix, matrix.width);\n    }\n\n    function next(Types.Matrix memory matrix, uint8 width) internal pure returns (bool res) {\n        if (matrix.init) {\n            if (width <= matrix.currentUnsetX + 1) {\n                if (matrix.height == matrix.currentUnsetY + 1) {\n                    return false;\n                }\n                matrix.currentUnsetX = matrix.startX; // 0 by default\n                matrix.currentUnsetY++;\n            } else {\n                matrix.currentUnsetX++;\n            }\n        } else {\n            matrix.init = true;\n        }\n        res = true;\n    }\n\n    function current(Types.Matrix memory matrix) internal pure returns (uint256 res) {\n        res = matrix.version.getBigMatrixPixelAt(matrix.currentUnsetX, matrix.currentUnsetY);\n    }\n\n    function setCurrent(Types.Matrix memory matrix, uint256 pixel) internal pure {\n        matrix.version.setBigMatrixPixelAt(matrix.currentUnsetX, matrix.currentUnsetY, pixel);\n    }\n\n    function resetIterator(Types.Matrix memory matrix) internal pure {\n        matrix.currentUnsetX = 0;\n        matrix.currentUnsetY = 0;\n        matrix.startX = 0;\n        matrix.init = false;\n    }\n\n    function moveBack(Types.Matrix memory matrix) internal pure {\n        (uint256 width, uint256 height) = matrix.version.getWidth();\n        matrix.width = uint8(width);\n        matrix.height = uint8(height);\n    }\n\n    function set(\n        Types.Matrix memory matrix,\n        Version.Memory memory data,\n        uint256 groupWidth,\n        uint256 groupHeight\n    ) internal pure {\n        matrix.height = uint8(groupHeight);\n\n        for (uint256 y = 0; y < groupHeight; y++) {\n            for (uint256 x = 0; x < groupWidth; x++) {\n                next(matrix, uint8(groupWidth));\n                uint256 col = Version.getPixelAt(data, x, y);\n                if (col != 0) {\n                    (uint256 yo, , ) = Version.getPalletColorAt(data, col);\n\n                    setCurrent(matrix, yo);\n                } else {\n                    setCurrent(matrix, 0x0000000000);\n                }\n            }\n        }\n\n        matrix.width = uint8(groupWidth);\n\n        resetIterator(matrix);\n    }\n\n    function addRowsAt(\n        Types.Matrix memory matrix,\n        uint8 index,\n        uint8 amount\n    ) internal pure {\n        for (uint256 i = 0; i < matrix.height; i++) {\n            for (uint256 j = matrix.height; j > index; j--) {\n                if (j < index) break;\n                matrix.version.setBigMatrixPixelAt(i, j + amount, matrix.version.getBigMatrixPixelAt(i, j));\n            }\n            // \"<=\" is because this loop needs to run [amount] times\n            for (uint256 j = index + 1; j <= index + amount; j++) {\n                matrix.version.setBigMatrixPixelAt(i, j, matrix.version.getBigMatrixPixelAt(i, index));\n            }\n        }\n        matrix.height += amount;\n    }\n\n    function addColumnsAt(\n        Types.Matrix memory matrix,\n        uint8 index,\n        uint8 amount\n    ) internal pure {\n        // require(index < matrix.data[0].length, 'MAT:ACA:0');\n        for (uint256 i = 0; i < matrix.width; i++) {\n            for (uint256 j = matrix.width; j > index; j--) {\n                if (j < index) break;\n                matrix.version.setBigMatrixPixelAt(j + amount, i, matrix.version.getBigMatrixPixelAt(j, i));\n            }\n            // \"<=\" is because this loop needs to run [amount] times\n            for (uint256 j = index + 1; j <= index + amount; j++) {\n                matrix.version.setBigMatrixPixelAt(j, i, matrix.version.getBigMatrixPixelAt(index, i));\n            }\n        }\n        matrix.width += amount;\n    }\n}\n"
    },
    "src/core/DotnuggV1SvgLib.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {StringCastLib} from '../libraries/StringCastLib.sol';\nimport {ShiftLib} from '../libraries/ShiftLib.sol';\nimport {Pixel} from '../types/Pixel.sol';\nimport {Version} from '../types/Version.sol';\n\nimport {IDotnuggV1Metadata} from '../interfaces/IDotnuggV1Metadata.sol';\n\nlibrary DotnuggV1SvgLib {\n    using StringCastLib for uint256;\n    using StringCastLib for uint8;\n\n    using StringCastLib for address;\n\n    using Pixel for uint256;\n\n    function build(\n        IDotnuggV1Metadata.Memory memory data,\n        uint256[] memory file,\n        uint256 width,\n        uint256 height,\n        uint8 zoom\n    ) internal pure returns (bytes memory res) {\n        bytes memory header = abi.encodePacked(\n            \"<svg Box='0 0 \", //\"<svg Box='0 0 \",\n            (zoom * width).toAsciiString(),\n            hex'20', // ' ',\n            (zoom * width).toAsciiString(),\n            \"' width='\", //\"' width='\",\n            (zoom * width).toAsciiString(),\n            \"' height='\", //  \"' height='\",\n            (zoom * width).toAsciiString(),\n            \"' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>\"\n        );\n\n        bytes memory footer = hex'3c2f7376673e';\n\n        (uint256 last, ) = Version.getPixelAt(file, 0, 0, width);\n        uint256 count = 1;\n\n        // bytes[] memory rects = new bytes[](35);\n        bytes memory body;\n\n        for (uint256 y = 0; y < height; y++) {\n            for (uint256 x = 0; x < width; x++) {\n                if (y == 0 && x == 0) x++;\n                (uint256 curr, ) = Version.getPixelAt(file, x, y, width);\n                if (curr.rgba() == last.rgba()) {\n                    count++;\n                    continue;\n                } else {\n                    body = abi.encodePacked(body, getRekt(last, (x - count) * zoom, y * zoom, 1 * zoom, count * zoom));\n                    last = curr;\n                    count = 1;\n                }\n            }\n\n            body = abi.encodePacked(body, getRekt(last, (width - count) * zoom, y * zoom, 1 * zoom, count * zoom));\n            last = 0;\n            count = 0;\n        }\n\n        res = abi.encodePacked(header, body, getMetadata(data), footer);\n    }\n\n    function getRekt(\n        uint256 pixel,\n        uint256 x,\n        uint256 y,\n        uint256 xlen,\n        uint256 ylen\n    ) internal pure returns (bytes memory res) {\n        if (pixel.a() == 0) return '';\n        res = abi.encodePacked(\n            \"<rect fill='#\",\n            pixel.rgba().toHexStringNoPrefix(4),\n            hex'2720783d27',\n            x.toAsciiString(),\n            hex'2720793d27',\n            y.toAsciiString(),\n            hex'27206865696768743d27',\n            xlen.toAsciiString(),\n            hex'272077696474683d27',\n            ylen.toAsciiString(),\n            \"'/>\"\n        );\n    }\n\n    function getMetadata(IDotnuggV1Metadata.Memory memory data) internal pure returns (bytes memory res) {\n        res = abi.encodePacked(\n            '<text x=\"10\" y=\"20\" font-family=\"monospace\" font-size=\"20px\" style=\"fill:black;\">Metadata:',\n            getTspan(45, 0, 'name', data.name),\n            getTspan(75, 0, 'description', data.desc),\n            getTspan(105, 0, 'id', data.tokenId.toAsciiString()),\n            getTspan(135, 0, 'owner', data.owner.toHexString()),\n            getTspan(165, 0, 'items', '')\n        );\n\n        for (uint256 i = 0; i < 8; i++) {\n            if (data.ids[i] > 0) {\n                res = abi.encodePacked(res, getTspan(195 + i * 30, 20, data.labels[i], data.ids[i].toAsciiString()));\n            }\n        }\n\n        res = abi.encodePacked(res, '</text>');\n    }\n\n    function getTspan(\n        uint256 y,\n        uint256 xoffset,\n        string memory label,\n        string memory data\n    ) internal pure returns (bytes memory res) {\n        res = abi.encodePacked(\n            '<tspan x=\"',\n            (10 + xoffset).toAsciiString(),\n            '\" y=\"',\n            y.toAsciiString(),\n            '\">',\n            '<tspan style=\"font-weight:bold;\">',\n            label,\n            ':</tspan> ',\n            data,\n            '</tspan>'\n        );\n    }\n}\n"
    },
    "src/types/Version.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {ShiftLib} from '../libraries/ShiftLib.sol';\nimport {BitReader} from '../libraries/BitReader.sol';\nimport {SafeCastLib} from '../libraries/SafeCastLib.sol';\n\nimport {Pixel} from '../types/Pixel.sol';\n\nimport '../_test/utils/console.sol';\n\nlibrary Version {\n    using BitReader for BitReader.Memory;\n    using SafeCastLib for uint256;\n\n    struct Memory {\n        uint256[] pallet;\n        uint256[] minimatrix;\n        uint256[] bigmatrix;\n        uint256 receivers;\n        uint256 data;\n    }\n    event log_named_bytes32(string key, bytes32 val);\n\n    function parsePallet(\n        BitReader.Memory memory reader,\n        uint256 id,\n        uint256 feature\n    ) internal view returns (uint256[] memory res) {\n        uint256 palletLength = reader.select(4) + 1;\n\n        res = new uint256[](palletLength + 1);\n\n        for (uint256 i = 0; i < palletLength; i++) {\n            // uint256 working = 0;\n\n            // 4 bits: zindex\n            // working |= (reader.select(4) << 32);\n            uint256 z = reader.select(4);\n\n            uint256 color;\n\n            uint256 selecta = reader.select(1);\n            if (selecta == 1) {\n                color = 0x000000;\n            } else {\n                uint256 r = reader.select(8);\n                uint256 g = reader.select(8);\n                uint256 b = reader.select(8);\n\n                color = (r << 16) | (g << 8) | b;\n            }\n\n            // // 1 or 8 bits: a\n            uint256 a = (reader.select(1) == 0x1 ? 0xff : reader.select(8));\n\n            res[i + 1] = Pixel.safePack(color, a, id, z, feature);\n        }\n    }\n\n    function parseData(\n        BitReader.Memory memory reader,\n        uint256 feature,\n        uint8[] memory xovers,\n        uint8[] memory yovers\n    ) internal pure returns (uint256 res) {\n        // 12 bits: coordinate - anchor x and y\n\n        res |= feature << 75;\n\n        uint256 width = reader.select(6);\n        uint256 height = reader.select(6);\n\n        res |= height << 69; // heighth and width\n        res |= width << 63;\n\n        uint256 anchorX = reader.select(6);\n        uint256 anchorY = reader.select(6);\n\n        if (xovers.length == 8 && yovers.length == 8 && (xovers[feature] != 0 || yovers[feature] != 0)) {\n            res |= uint256(yovers[feature]) << 57;\n            res |= uint256(xovers[feature]) << 51;\n        } else {\n            // 12 bits: coordinate - anchor x and y\n            res |= anchorX << 51;\n            res |= anchorY << 57;\n        }\n\n        // 1 or 25 bits: rlud - radii\n        res |= (reader.select(1) == 0x1 ? 0x000000 : reader.select(24)) << 27;\n\n        // 1 or 25 bits: rlud - expanders\n        res |= (reader.select(1) == 0x1 ? 0x000000 : reader.select(24)) << 3;\n    }\n\n    function parseReceivers(BitReader.Memory memory reader) internal pure returns (uint256 res) {\n        uint256 receiversLength = reader.select(1) == 0x1 ? 0x1 : reader.select(4);\n\n        for (uint256 j = 0; j < receiversLength; j++) {\n            uint256 receiver = 0;\n\n            uint256 yOrYOffset = reader.select(6);\n\n            uint256 xOrPreset = reader.select(6);\n\n            // rFeature\n            uint256 rFeature = reader.select(3);\n\n            uint256 calculated = reader.select(1);\n\n            if (calculated == 0x1) {\n                receiver |= yOrYOffset << 6;\n                receiver |= xOrPreset;\n            } else {\n                receiver |= xOrPreset << 6;\n                receiver |= yOrYOffset;\n            }\n\n            receiver <<= ((rFeature * 12) + (calculated == 0x1 ? 128 : 0));\n\n            res |= receiver;\n        }\n    }\n\n    function parseMiniMatrix(\n        BitReader.Memory memory reader,\n        uint256 height,\n        uint256 width\n    ) internal pure returns (uint256[] memory res) {\n        uint256 groupsLength = reader.select(1) == 0x1 ? reader.select(8) + 1 : reader.select(16) + 1;\n\n        res = new uint256[]((height * width) / 64 + 1);\n\n        uint256 index = 0;\n\n        for (uint256 a = 0; a < groupsLength; a++) {\n            uint256 len = reader.select(2) + 1;\n\n            if (len == 4) len = reader.select(4) + 4;\n\n            uint256 key = reader.select(4);\n\n            for (uint256 i = 0; i < len; i++) {\n                res[index / 64] |= (key << (4 * (index % 64)));\n                index++;\n            }\n        }\n    }\n\n    function getReceiverAt(\n        Memory memory m,\n        uint256 index,\n        bool calculated\n    )\n        internal\n        pure\n        returns (\n            uint256 x,\n            uint256 y,\n            bool exists\n        )\n    {\n        uint256 data = m.receivers >> (index * 12 + (calculated ? 128 : 0));\n\n        data &= ShiftLib.mask(12);\n\n        x = data & ShiftLib.mask(6);\n        y = data >> 6;\n\n        exists = x != 0 || y != 0;\n    }\n\n    function setReceiverAt(\n        Memory memory m,\n        uint256 index,\n        bool calculated,\n        uint256 x,\n        uint256 y\n    ) internal pure returns (uint256 res) {\n        // yOrYOffset\n        res |= y << 6;\n\n        //xOrPreset\n        res |= x;\n\n        m.receivers |= res << ((index * 12) + (calculated ? 128 : 0));\n    }\n\n    function setOffset(\n        Memory memory m,\n        bool negX,\n        uint256 diffX,\n        bool negY,\n        uint256 diffY\n    ) internal pure {\n        m.data |= ((((diffX & 0xff) << 1) | (((negX ? 0x1 : 0x0)))) << 85);\n        m.data |= ((((diffY & 0xff) << 1) | ((((negY ? 0x1 : 0x0))))) << 94);\n    }\n\n    function getOffset(Memory memory m)\n        internal\n        pure\n        returns (\n            bool negX,\n            uint256 diffX,\n            bool negY,\n            uint256 diffY\n        )\n    {\n        uint256 data = m.data;\n        negX = (data >> 85) & 0x1 == 1;\n        diffX = (data >> 86) & 0xff;\n        negY = (data >> 94) & 0x1 == 1;\n        diffY = (data >> 95) & 0xff;\n    }\n\n    function setZ(Memory memory m, uint256 z) internal pure {\n        require(z <= 0xf, 'VERS:SETZ:0');\n        m.data |= z << 78;\n    }\n\n    function getZ(Memory memory m) internal pure returns (uint256 res) {\n        res = (m.data >> 78) & 0xf;\n    }\n\n    function setFeature(Memory memory m, uint256 z) internal pure {\n        require(z <= ShiftLib.mask(3), 'VERS:SETF:0');\n        m.data &= ShiftLib.fullsubmask(3, 75);\n        m.data |= (z << 75);\n    }\n\n    function getFeature(Memory memory m) internal pure returns (uint256 res) {\n        res = (m.data >> 75) & ShiftLib.mask(3);\n    }\n\n    function getWidth(Memory memory m) internal pure returns (uint256 width, uint256 height) {\n        // yOrYOffset\n        width = (m.data >> 63) & ShiftLib.mask(6);\n        height = (m.data >> 69) & ShiftLib.mask(6);\n    }\n\n    function setWidth(\n        Memory memory m,\n        uint256 w,\n        uint256 h\n    ) internal pure {\n        require(w <= ShiftLib.mask(6), 'VERS:SETW:0');\n        require(h <= ShiftLib.mask(6), 'VERS:SETW:1');\n\n        m.data &= ShiftLib.fullsubmask(12, 63);\n\n        m.data |= (w << 63);\n        m.data |= (h << 69);\n    }\n\n    function getAnchor(Memory memory m) internal pure returns (uint256 x, uint256 y) {\n        // yOrYOffset\n        x = (m.data >> 51) & ShiftLib.mask(6);\n        y = (m.data >> 57) & ShiftLib.mask(6);\n    }\n\n    function getOverrides(Memory memory m)\n        internal\n        pure\n        returns (\n            bool shouldOverride,\n            uint8 x,\n            uint8 y\n        )\n    {\n        // yOrYOffset\n        x = uint8((m.data >> 78) & ShiftLib.mask(6));\n        y = uint8((m.data >> 84) & ShiftLib.mask(6));\n\n        shouldOverride = x != 0 && y != 0;\n    }\n\n    function getPixelAt(\n        Memory memory m,\n        uint256 x,\n        uint256 y\n    ) internal pure returns (uint256 palletKey) {\n        (uint256 width, ) = getWidth(m);\n        uint256 index = x + (y * width);\n\n        if (index / 64 >= m.minimatrix.length) return 0x0;\n\n        palletKey = (m.minimatrix[index / 64] >> (4 * (index % 64))) & 0xf;\n    }\n\n    function getPalletColorAt(Memory memory m, uint256 index)\n        internal\n        pure\n        returns (\n            uint256 res,\n            uint256 color,\n            uint256 zindex\n        )\n    {\n        // res = (m.pallet[index / 7] >> (36 * (index % 7))) & ShiftLib.mask(36);\n        res = m.pallet[index];\n\n        color = Pixel.rgba(res);\n\n        zindex = Pixel.z(res);\n    }\n\n    function initBigMatrix(Memory memory m, uint256 width) internal pure {\n        m.bigmatrix = new uint256[](((width * width) / 6) + 2);\n    }\n\n    function setBigMatrixPixelAt(\n        Memory memory m,\n        uint256 x,\n        uint256 y,\n        uint256 color\n    ) internal pure {\n        (uint256 width, ) = getWidth(m);\n\n        uint256 index = x + (y * width);\n\n        setBigMatrixPixelAt(m, index, color);\n    }\n\n    function setBigMatrixPixelAt(\n        Memory memory m,\n        uint256 index,\n        uint256 color\n    ) internal pure {\n        if (m.bigmatrix.length > index / 6) {\n            uint8 offset = (42 * (index % 6)).safe8();\n            m.bigmatrix[index / 6] &= ShiftLib.fullsubmask(42, offset);\n            m.bigmatrix[index / 6] |= (color << offset);\n        }\n    }\n\n    function getBigMatrixPixelAt(\n        Memory memory m,\n        uint256 x,\n        uint256 y\n    ) internal pure returns (uint256 res) {\n        (uint256 width, ) = getWidth(m);\n\n        (res, ) = getPixelAt(m.bigmatrix, x, y, width);\n    }\n\n    function getPixelAt(\n        uint256[] memory arr,\n        uint256 x,\n        uint256 y,\n        uint256 width\n    ) internal pure returns (uint256 res, uint256 row) {\n        uint256 index = x + (y * width);\n\n        if (index / 6 >= arr.length) return (0, 0);\n\n        row = (arr[index / 6] >> (42 * (index % 6)));\n\n        res = row & ShiftLib.mask(42);\n    }\n\n    function bigMatrixHasPixelAt(\n        Memory memory m,\n        uint256 x,\n        uint256 y\n    ) internal pure returns (bool res) {\n        uint256 pix = getBigMatrixPixelAt(m, x, y);\n\n        res = pix & 0x7 != 0x00;\n    }\n\n    function setArrayLength(uint256[] memory input, uint256 size) internal pure {\n        assembly {\n            let ptr := mload(input)\n            ptr := size\n            mstore(input, ptr)\n        }\n    }\n}\n"
    },
    "src/types/Types.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {Version as NewVersion} from '../types/Version.sol';\n\nlibrary Types {\n    struct Rlud {\n        bool exists;\n        uint8 r;\n        uint8 l;\n        uint8 u;\n        uint8 d;\n    }\n\n    struct Rgba {\n        uint8 r;\n        uint8 g;\n        uint8 b;\n        uint8 a;\n    }\n\n    struct Anchor {\n        Rlud radii;\n        Coordinate coordinate;\n    }\n\n    struct Coordinate {\n        uint8 a; // anchorId\n        uint8 b; // yoffset\n        bool exists;\n    }\n\n    struct Version {\n        uint8 width;\n        uint8 height;\n        Anchor anchor;\n        // these must be in same order as canvas receivers, respectively\n        Coordinate[] calculatedReceivers; // can be empty\n        Coordinate[] staticReceivers; // can be empty\n        Rlud expanders;\n        bytes data;\n    }\n\n    struct Canvas {\n        Matrix matrix;\n        Anchor[] receivers;\n    }\n\n    struct Mix {\n        uint8 feature;\n        Version version;\n        Matrix matrix;\n        Anchor[] receivers;\n        uint8 yoffset;\n        uint8 xoffset;\n    }\n\n    struct Matrix {\n        uint8 width;\n        uint8 height;\n        NewVersion.Memory version;\n        uint8 currentUnsetX;\n        uint8 currentUnsetY;\n        bool init;\n        uint8 startX;\n    }\n}\n"
    },
    "src/libraries/StringCastLib.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\n/*\n * @dev Uint operations.\n */\nlibrary StringCastLib {\n    bytes16 private constant ALPHABET = '0123456789abcdef';\n\n    /**\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\n     */\n    function toAsciiString(uint256 value) internal pure returns (string memory) {\n        return string(toAsciiBytes(value));\n    }\n\n    /**\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\n     */\n    function toAsciiBytes(uint256 value) internal pure returns (bytes memory buffer) {\n        // Inspired by OraclizeAPI's implementation - MIT licence\n        // https://github.com/oraclize/ethereum-api/blob/b42146b063c7d6ee1358846c198246239e9360e8/oraclizeAPI_0.4.25.sol\n\n        if (value == 0) {\n            return '0';\n        }\n        uint256 temp = value;\n        uint256 digits;\n        while (temp != 0) {\n            digits++;\n            temp /= 10;\n        }\n\n        buffer = new bytes(digits);\n\n        while (value != 0) {\n            digits -= 1;\n            buffer[digits] = bytes1(uint8(48 + uint256(value % 10)));\n            value /= 10;\n        }\n        return buffer;\n    }\n\n    /**\n     * @dev Converts a `uint256` to its ASCII `string` decimal representation.\n     */\n    function toHexString(address value) internal pure returns (string memory) {\n        return toHexString(uint256(uint160(value)), 20);\n    }\n\n    /// @notice Converts a `uint256` to its ASCII `string` hexadecimal representation with fixed length.\n    /// @dev Credit to Open Zeppelin under MIT license https://github.com/OpenZeppelin/openzeppelin-contracts/blob/243adff49ce1700e0ecb99fe522fb16cff1d1ddc/contracts/utils/Strings.sol#L55\n    function toHexString(uint256 value, uint256 length) internal pure returns (string memory) {\n        bytes memory buffer = new bytes(2 * length + 2);\n        buffer[0] = '0';\n        buffer[1] = 'x';\n        for (uint256 i = 2 * length + 1; i > 1; --i) {\n            buffer[i] = ALPHABET[value & 0xf];\n            value >>= 4;\n        }\n        require(value == 0, 'Strings: hex length insufficient');\n        return string(buffer);\n    }\n\n    function toHexStringNoPrefix(uint256 value, uint256 length) internal pure returns (string memory) {\n        bytes memory buffer = new bytes(2 * length);\n        for (uint256 i = buffer.length; i > 0; i--) {\n            buffer[i - 1] = ALPHABET[value & 0xf];\n            value >>= 4;\n        }\n        return string(buffer);\n    }\n}\n"
    },
    "src/logic/Rgba.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {Pixel} from '../types/Pixel.sol';\n\nlibrary Rgba {\n    using Pixel for uint256;\n\n    function combine(uint256 base, uint256 mix) internal pure returns (uint256 res) {\n        return mix;\n        // if (mix.a() == 255 || base.a() == 0) {\n        //     res = mix;\n        //     return res;\n        // }\n        // // FIXME - i am pretty sure there is a bug here that causes the non-color pixel data to be deleted\n        // res |= uint256((base.r() * (255 - mix.a()) + mix.r() * mix.a()) / 255) << 19;\n        // res |= uint256((base.g() * (255 - mix.a()) + mix.g() * mix.a()) / 255) << 11;\n        // res |= uint256((base.b() * (255 - mix.a()) + mix.b() * mix.a()) / 255) << 3;\n        // res |= 0x7;\n    }\n}\n"
    },
    "src/types/Pixel.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {SafeCastLib} from '../libraries/SafeCastLib.sol';\nimport {ShiftLib} from '../libraries/ShiftLib.sol';\n\nlibrary Pixel {\n    using SafeCastLib for uint256;\n\n    function safePack(\n        uint256 _rgb,\n        uint256 _a,\n        uint256 _id,\n        uint256 _zindex,\n        uint256 _feature\n    ) internal pure returns (uint256 res) {\n        unchecked {\n            res |= uint256(_feature.safe3()) << 39;\n            res |= uint256(_zindex.safe4()) << 35;\n            res |= uint256(_id.safe8()) << 27;\n            res |= uint256(_rgb) << 3;\n            res |= uint256(compressA(_a.safe8()));\n        }\n    }\n\n    function unsafePack(\n        uint256 _rgb,\n        uint256 _a,\n        uint256 _id,\n        uint256 _zindex,\n        uint256 _feature\n    ) internal pure returns (uint256 res) {\n        unchecked {\n            res |= _feature << 39;\n            res |= _zindex << 35;\n            res |= _id << 27;\n            res |= _rgb << 3;\n            res |= compressA(uint8(_a));\n        }\n    }\n\n    function rgba(uint256 input) internal pure returns (uint256 res) {\n        return ((input << 5) & 0xffffff_00) | a(input);\n    }\n\n    function r(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 19) & 0xff;\n    }\n\n    function g(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 11) & 0xff;\n    }\n\n    function b(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 3) & 0xff;\n    }\n\n    // 3 bits\n    function a(uint256 input) internal pure returns (uint256 res) {\n        res = decompressA(uint8(input & 0x7));\n    }\n\n    // this is 1-8 so 3 bits\n    function id(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 27) & 0xff;\n    }\n\n    // 18 3,3,4 && 8\n    // this is 1-16 so 4 bits\n    function z(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 35) & 0xf;\n    }\n\n    // this is 1-8 so 3 bits\n    function f(uint256 input) internal pure returns (uint256 res) {\n        res = (input >> 39) & 0x7;\n    }\n\n    /// @notice check for if a pixel exists\n    /// @dev for a pixel to exist a must be > 0, so we can safely assume that if we see\n    /// no data it is empty or a transparent pixel we do not need to process\n    function e(uint256 input) internal pure returns (bool res) {\n        res = input != 0x00;\n    }\n\n    /// @notice converts an 8 bit (0-255) value into a 3 bit value (0-7)\n    /// @dev a compressed value of 7 is equivilent to 255, and a compressed 0 is 0\n    function compressA(uint256 input) internal pure returns (uint256 res) {\n        return input.safe8() / 36;\n    }\n\n    /// @notice converts an 8 bit value into a 3 bit value\n    function decompressA(uint256 input) internal pure returns (uint256 res) {\n        if (input == 7) return 255;\n        else return input.safe3() * 36;\n    }\n}\n"
    },
    "src/_test/general/Version.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\nimport {UserTarget} from '../utils/User.sol';\n\nimport {BigMatrix0} from '../objects/BigMatrix0.sol';\n\ncontract VersionTest is DotnuggV1Test {\n    using UserTarget for address;\n\n    BigMatrix0 _bigmatrix0;\n\n    uint256[][] dummy2D;\n    uint256[] dummy1D;\n\n    uint256[] dummy1Dcompressed;\n\n    function setUp() public {\n        reset();\n\n        _bigmatrix0 = new BigMatrix0();\n\n        dummy1D = _bigmatrix0.get();\n\n        dummy1Dcompressed = processor.lib().compressBigMatrix(dummy1D, 0);\n\n        emit log_named_bytes32('compreseed last', bytes32(dummy1Dcompressed[dummy1Dcompressed.length - 1]));\n\n        dummy2D.push(dummy1D);\n        dummy2D.push(dummy1D);\n        dummy2D.push(dummy1D);\n    }\n\n    // function test__DotnuggV2Processor__dotnuggV1StoreFiles__pass() public {\n    //     _implementer.shouldPass(frank, dotnuggV1StoreFiles(dummy2D, 0));\n    // }\n\n    function test__Version__compressBigMatrix__pass() public {\n        uint256 data = 0;\n        uint256[] memory compressed = processor.lib().compressBigMatrix(dummy1D, data);\n        uint256[] memory decompressed = processor.lib().decompressBigMatrix(compressed);\n\n        dummy1D.push(data | ((dummy1D.length + 1) << 236));\n\n        assertArrayEq(decompressed, dummy1D);\n    }\n\n    // function test__Version__findMinRightPadding__pass() public {\n    //     (uint8 l, uint8 r) = processor.lib().findMinRightPadding(dummy1D);\n\n    //     emit log_named_uint('l', l);\n    //     emit log_named_uint('r', r);\n    // }\n}\n"
    },
    "src/_test/general/Resolver.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\nimport {IDotnuggV1Metadata} from '../../interfaces/IDotnuggV1Metadata.sol';\n\nimport {UserTarget} from '../utils/User.sol';\n\nimport {BigMatrix0} from '../objects/BigMatrix0.sol';\n\ncontract ResolverTest is DotnuggV1Test {\n    using UserTarget for address;\n\n    BigMatrix0 _bigmatrix0;\n\n    uint256[][] dummy2D;\n    uint256[] dummy1D;\n\n    uint256[] dummy1Dcompressed;\n\n    IDotnuggV1Metadata.Memory testData;\n\n    function setUp() public {\n        reset();\n\n        _bigmatrix0 = new BigMatrix0();\n\n        dummy1D = _bigmatrix0.get();\n\n        dummy1Dcompressed = processor.lib().compressBigMatrix(dummy1D, _bigmatrix0.beforeData());\n\n        testData.name = 'name';\n        testData.desc = 'desc';\n        testData.version = 1;\n        testData.tokenId = 0;\n        testData.owner = address(0);\n    }\n\n    function test__Resolver__resolvString__pass() public {\n        string memory res = processor.resolveUri(dummy1Dcompressed, testData, 10);\n\n        // emit log_named_string('svg', res);\n    }\n}\n"
    },
    "src/_test/general/Pixel.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\nimport {Pixel} from '../../types/Pixel.sol';\nimport {StringCastLib} from '../../libraries/StringCastLib.sol';\n\ncontract generalTest__PixelType is DotnuggV1Test {\n    function test__general__PixelType__a() public {\n        uint256 input = Pixel.safePack(0xaaaaaa, 0xff, 0xaa, 0xa, 0x2);\n\n        assertEq(Pixel.a(input), 0xff);\n        assertEq(Pixel.r(input), 0xaa);\n        assertEq(Pixel.g(input), 0xaa);\n        assertEq(Pixel.b(input), 0xaa);\n        assertEq(Pixel.rgba(input), 0xaaaaaaff);\n        assertEq(Pixel.f(input), 0x2);\n        assertEq(Pixel.z(input), 0xa);\n        assertEq(Pixel.id(input), 0xaa);\n    }\n\n    function test__general__PixelType__toHexString() public {\n        uint256 input = Pixel.safePack(0xaaaaaa, 0xff, 0xaa, 0xa, 0x2);\n\n        assertEq(StringCastLib.toHexStringNoPrefix(Pixel.rgba(input), 4), 'aaaaaaff');\n    }\n}\n"
    },
    "src/_test/general/StringCastLib.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\nimport {StringCastLib} from '../../libraries/StringCastLib.sol';\n\ncontract generalTest__StringCastLib is DotnuggV1Test {\n    function test__general__StringCastLib__a() public {\n        assertEq(StringCastLib.toHexStringNoPrefix(0xffffff_00, 4), 'ffffff00');\n    }\n}\n"
    },
    "src/_test/system/system1.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\ncontract systemTest__one is DotnuggV1Test {}\n"
    },
    "src/_test/reverts/version.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\ncontract revertTest__version is DotnuggV1Test {\n    function setUp() public {\n        reset();\n    }\n\n    /* \n            [T:1] - addStakedShareFromMsgValue - \"value of tx too low\"\n        */\n}\n"
    },
    "src/_test/reverts/calculator.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\ncontract revertTest__calculator is DotnuggV1Test {\n    function setUp() public {\n        reset();\n    }\n}\n"
    },
    "src/_test/reverts/anchors.t.sol": {
      "content": "// SPDX-License-Identifier: MIT\n\npragma solidity 0.8.9;\n\nimport {DotnuggV1Test} from '../DotnuggV1Test.sol';\n\ncontract revertTest__anchors is DotnuggV1Test {\n    function setUp() public {\n        reset();\n    }\n}\n"
    }
  },
  "settings": {
    "optimizer": {
      "enabled": true,
      "runs": 1000000
    },
    "outputSelection": {
      "*": {
        "*": [
          "abi",
          "evm.bytecode",
          "evm.deployedBytecode",
          "evm.methodIdentifiers",
          "metadata",
          "devdoc",
          "userdoc",
          "storageLayout",
          "evm.gasEstimates"
        ],
        "": [
          "ast"
        ]
      }
    },
    "metadata": {
      "useLiteralContent": true
    },
    "libraries": {
      "": {
        "__CACHE_BREAKER__": "0x00000000d41867734bbee4c6863d9255b2b06ac1"
      }
    }
  }
}